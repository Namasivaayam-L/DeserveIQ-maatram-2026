{"ast":null,"code":"var _jsxFileName = \"D:\\\\newDownload\\\\DeserveIQ\\\\frontend\\\\src\\\\pages\\\\Students.jsx\",\n  _s = $RefreshSig$();\n// src/pages/Students.jsx\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport TopNav from \"../components/TopNav\";\nimport { Container, Card, Table, Row, Col, Form, Badge, InputGroup, Button, Modal, OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport { getStudents, deleteStudent } from \"../services/api\";\nimport { useNavigate } from \"react-router-dom\";\n\n// ----------------- SMALL PRESENTATIONAL COMPONENTS -----------------\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SummaryPill = ({\n  label,\n  value,\n  variant\n}) => /*#__PURE__*/_jsxDEV(Badge, {\n  bg: variant,\n  pill: true,\n  className: \"me-2 mb-2\",\n  style: {\n    fontSize: \"0.70rem\",\n    fontWeight: 600\n  },\n  children: [label, \": \", value]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 24,\n  columnNumber: 3\n}, this);\n\n// pill for risk tier\n_c = SummaryPill;\nconst RiskTierBadge = ({\n  tier\n}) => {\n  if (!tier) return /*#__PURE__*/_jsxDEV(\"span\", {\n    className: \"text-muted small\",\n    children: \"\\u2014\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 21\n  }, this);\n  const t = String(tier).toUpperCase();\n  let variant = \"secondary\";\n  let label = t;\n  if (t === \"HIGH\") {\n    variant = \"danger\";\n    label = \"HIGH\";\n  } else if (t === \"MEDIUM\") {\n    variant = \"warning\";\n    label = \"MEDIUM\";\n  } else if (t === \"LOW\") {\n    variant = \"success\";\n    label = \"LOW\";\n  }\n  return /*#__PURE__*/_jsxDEV(Badge, {\n    bg: variant,\n    pill: true,\n    className: \"small\",\n    style: {\n      fontSize: \"0.70rem\",\n      minWidth: 60,\n      textAlign: \"center\"\n    },\n    children: label\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n_c2 = RiskTierBadge;\nconst headerBackground = \"linear-gradient(135deg, rgba(248,250,252,1) 0%, rgba(239,246,255,1) 35%, rgba(221,239,253,1) 100%)\";\nconst pageBackground = \"linear-gradient(180deg, #eff6ff 0%, #ffffff 40%, #f9fafb 100%)\";\n\n// ----------------- EXPLANATION PARSER HELPERS -----------------\n\n/**\n * explanation in DB is usually a JSON string:\n * {\n *   \"final_probability_used\":0.89,\n *   \"global_top_model_features\":\"[f_14, f_0, f_17,...]\",\n *   \"human_readable_reasons\":\"[Cutoff..., Preferred location..., ...]\",\n *   \"model_probability\":0.83,\n *   \"rule_probability\":0.95\n * }\n *\n * We normalise it into a JS object with:\n *  - final_probability_used (number)\n *  - model_probability (number)\n *  - rule_probability (number)\n *  - global_top_model_features (array of strings)\n *  - human_readable_reasons (array of strings)\n */\nconst parseExplanation = raw => {\n  if (!raw) return null;\n  let obj = null;\n  if (typeof raw === \"string\") {\n    try {\n      obj = JSON.parse(raw);\n    } catch (e) {\n      // maybe it is not strict JSON; just return as raw\n      return {\n        raw\n      };\n    }\n  } else if (typeof raw === \"object\") {\n    obj = raw;\n  }\n  if (!obj) return null;\n  const out = {\n    ...obj\n  };\n\n  // normalise features: might be \"['a', 'b']\" or \"[a,b]\"\n  const normListField = value => {\n    if (!value) return [];\n    if (Array.isArray(value)) return value;\n    const s = String(value).trim();\n    // remove leading/trailing [] if present\n    const inner = s.replace(/^\\[/, \"\").replace(/\\]$/, \"\");\n    if (!inner) return [];\n    return inner.split(\",\").map(x => x.trim().replace(/^['\"]|['\"]$/g, \"\"));\n  };\n  out.global_top_model_features = normListField(obj.global_top_model_features || obj.top_features);\n  out.human_readable_reasons = normListField(obj.human_readable_reasons || obj.reasons);\n\n  // ensure numeric\n  const toNum = v => {\n    const n = Number(v);\n    return Number.isFinite(n) ? n : null;\n  };\n  out.final_probability_used = toNum(obj.final_probability_used);\n  out.model_probability = toNum(obj.model_probability);\n  out.rule_probability = toNum(obj.rule_probability);\n  return out;\n};\n\n// ----------------- MAIN COMPONENT -----------------\n\nexport default function Students() {\n  _s();\n  // raw list from API\n  const [list, setList] = useState([]);\n\n  // UI controls\n  const [search, setSearch] = useState(\"\");\n  const [schoolFilter, setSchoolFilter] = useState(\"ALL\");\n  const [riskFilter, setRiskFilter] = useState(\"ALL\"); // NEW: filter by LOW/MEDIUM/HIGH\n  const [sortKey, setSortKey] = useState(\"name\");\n  const [sortDir, setSortDir] = useState(\"asc\");\n\n  // delete UX\n  const [deletingId, setDeletingId] = useState(null);\n\n  // explanation modal\n  const [showExplain, setShowExplain] = useState(false);\n  const [explainStudent, setExplainStudent] = useState(null);\n  const [explainParsed, setExplainParsed] = useState(null);\n  const nav = useNavigate();\n\n  // --------------- LOAD STUDENTS ---------------\n\n  useEffect(() => {\n    getStudents().then(d => setList(Array.isArray(d) ? d : [])).catch(() => setList([]));\n  }, []);\n\n  // --------------- SUMMARY (HEADER PILL STATS) ---------------\n\n  const summary = useMemo(() => {\n    if (!list.length) {\n      return {\n        govt: 0,\n        private: 0,\n        scholarship: 0,\n        highAttendance: 0,\n        highRisk: 0,\n        mediumRisk: 0,\n        lowRisk: 0\n      };\n    }\n    const toLower = x => String(x || \"\").toLowerCase();\n    const govt = list.filter(s => toLower(s.private_or_govt_school || s.privateOrGovtSchool).includes(\"govt\")).length;\n    const priv = list.filter(s => toLower(s.private_or_govt_school || s.privateOrGovtSchool).includes(\"private\")).length;\n    const scholarship = list.filter(s => toLower(s.any_scholarship) === \"yes\").length;\n    const highAttendance = list.filter(s => {\n      var _ref, _s$attendance_rate;\n      return Number((_ref = (_s$attendance_rate = s.attendance_rate) !== null && _s$attendance_rate !== void 0 ? _s$attendance_rate : s.attendanceRate) !== null && _ref !== void 0 ? _ref : 0) >= 80;\n    }).length;\n    const highRisk = list.filter(s => String(s.risk_tier || \"\").toUpperCase() === \"HIGH\").length;\n    const mediumRisk = list.filter(s => String(s.risk_tier || \"\").toUpperCase() === \"MEDIUM\").length;\n    const lowRisk = list.filter(s => String(s.risk_tier || \"\").toUpperCase() === \"LOW\").length;\n    return {\n      govt,\n      private: priv,\n      scholarship,\n      highAttendance,\n      highRisk,\n      mediumRisk,\n      lowRisk\n    };\n  }, [list]);\n\n  // --------------- FILTER + SORT ---------------\n\n  const filtered = useMemo(() => {\n    const q = search.trim().toLowerCase();\n    let rows = [...list];\n\n    // search by name, district, preferred_course, attitude, risk_tier\n    if (q) {\n      rows = rows.filter(s => {\n        const haystack = [s.name, s.district, s.preferred_course, s.preferred_location, s.attitude, s.risk_tier].map(x => String(x || \"\").toLowerCase()).join(\" \");\n        return haystack.includes(q);\n      });\n    }\n\n    // school type filter\n    if (schoolFilter !== \"ALL\") {\n      const sf = schoolFilter.toLowerCase();\n      rows = rows.filter(s => String(s.private_or_govt_school || s.privateOrGovtSchool || \"\").toLowerCase().includes(sf));\n    }\n\n    // risk filter\n    if (riskFilter !== \"ALL\") {\n      const rf = riskFilter.toUpperCase();\n      rows = rows.filter(s => String(s.risk_tier || \"\").toUpperCase() === rf);\n    }\n\n    // sorting\n    const getValue = s => {\n      var _ref2, _s$academic_score, _ref3, _s$attendance_rate2, _ref4, _ref5, _s$motivation_level, _ref6, _s$cutoff, _ref7, _s$family_income, _ref8, _s$dropout_probabilit, _ref9, _s$deservingness_scor;\n      switch (sortKey) {\n        case \"academic\":\n          return Number((_ref2 = (_s$academic_score = s.academic_score) !== null && _s$academic_score !== void 0 ? _s$academic_score : s.academicScore) !== null && _ref2 !== void 0 ? _ref2 : 0);\n        case \"attendance\":\n          return Number((_ref3 = (_s$attendance_rate2 = s.attendance_rate) !== null && _s$attendance_rate2 !== void 0 ? _s$attendance_rate2 : s.attendanceRate) !== null && _ref3 !== void 0 ? _ref3 : 0);\n        case \"motivation\":\n          // DB may store motivational_score or motivation_level\n          return Number((_ref4 = (_ref5 = (_s$motivation_level = s.motivation_level) !== null && _s$motivation_level !== void 0 ? _s$motivation_level : s.motivational_score) !== null && _ref5 !== void 0 ? _ref5 : s.motivationalScore) !== null && _ref4 !== void 0 ? _ref4 : 0);\n        case \"district\":\n          return String(s.district || \"\").toLowerCase();\n        case \"cutoff\":\n          return Number((_ref6 = (_s$cutoff = s.cutoff) !== null && _s$cutoff !== void 0 ? _s$cutoff : s.cut_off) !== null && _ref6 !== void 0 ? _ref6 : 0);\n        case \"family_income\":\n          return Number((_ref7 = (_s$family_income = s.family_income) !== null && _s$family_income !== void 0 ? _s$family_income : s.familyIncome) !== null && _ref7 !== void 0 ? _ref7 : 0);\n        case \"dropout\":\n          return Number((_ref8 = (_s$dropout_probabilit = s.dropout_probability) !== null && _s$dropout_probabilit !== void 0 ? _s$dropout_probabilit : s.dropoutProbability) !== null && _ref8 !== void 0 ? _ref8 : 0);\n        case \"deservingness\":\n          return Number((_ref9 = (_s$deservingness_scor = s.deservingness_score) !== null && _s$deservingness_scor !== void 0 ? _s$deservingness_scor : s.deservingnessScore) !== null && _ref9 !== void 0 ? _ref9 : 0);\n        case \"name\":\n        default:\n          return String(s.name || \"\").toLowerCase();\n      }\n    };\n    rows.sort((a, b) => {\n      const va = getValue(a);\n      const vb = getValue(b);\n      if (typeof va === \"number\" && typeof vb === \"number\") {\n        if (va < vb) return sortDir === \"asc\" ? -1 : 1;\n        if (va > vb) return sortDir === \"asc\" ? 1 : -1;\n        return 0;\n      }\n\n      // string compare\n      const sa = String(va);\n      const sb = String(vb);\n      if (sa < sb) return sortDir === \"asc\" ? -1 : 1;\n      if (sa > sb) return sortDir === \"asc\" ? 1 : -1;\n      return 0;\n    });\n    return rows;\n  }, [list, search, schoolFilter, riskFilter, sortKey, sortDir]);\n\n  // --------------- SORT HELPERS ---------------\n\n  const toggleSort = key => {\n    if (key === sortKey) {\n      setSortDir(prev => prev === \"asc\" ? \"desc\" : \"asc\");\n    } else {\n      setSortKey(key);\n      setSortDir(\"asc\");\n    }\n  };\n  const sortIcon = key => {\n    if (key !== sortKey) return \"↕\";\n    return sortDir === \"asc\" ? \"↑\" : \"↓\";\n  };\n\n  // --------------- DELETE HANDLER ---------------\n\n  const handleDelete = async id => {\n    if (!id) return;\n    const ok = window.confirm(\"Are you sure you want to delete this student record?\");\n    if (!ok) return;\n    try {\n      setDeletingId(id);\n      await deleteStudent(id);\n      setList(prev => prev.filter(s => s.id !== id));\n    } catch (e) {\n      console.error(e);\n      alert(\"Failed to delete student. Please try again.\");\n    } finally {\n      setDeletingId(null);\n    }\n  };\n\n  // --------------- EXPLANATION MODAL ---------------\n\n  const openExplanation = student => {\n    if (!student) return;\n    setExplainStudent(student);\n    const parsed = parseExplanation(student.explanation || student.prediction_explanation);\n    setExplainParsed(parsed);\n    setShowExplain(true);\n  };\n  const closeExplanation = () => {\n    setShowExplain(false);\n    setExplainStudent(null);\n    setExplainParsed(null);\n  };\n\n  // --------------- RENDER ---------------\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(TopNav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        minHeight: \"100vh\",\n        background: pageBackground,\n        fontFamily: '\"Inter\", system-ui, -apple-system, BlinkMacSystemFont'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Container, {\n        className: \"py-4\",\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          className: \"mb-3\",\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              className: \"border-0 shadow-sm\",\n              style: {\n                borderRadius: 18,\n                background: headerBackground\n              },\n              children: /*#__PURE__*/_jsxDEV(Card.Body, {\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  className: \"align-items-center g-3\",\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    md: 7,\n                    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                      className: \"mb-1\",\n                      style: {\n                        color: \"#111827\",\n                        fontWeight: 700\n                      },\n                      children: \"Students Registry\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 403,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                      className: \"text-muted\",\n                      children: [list.length, \" record(s) synced from DeserveIQ batch uploads.\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 409,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mt-3 d-flex flex-wrap\",\n                      children: [/*#__PURE__*/_jsxDEV(SummaryPill, {\n                        label: \"Govt\",\n                        value: summary.govt,\n                        variant: \"primary\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 414,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(SummaryPill, {\n                        label: \"Private\",\n                        value: summary.private,\n                        variant: \"info\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 419,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(SummaryPill, {\n                        label: \"Scholarship\",\n                        value: summary.scholarship,\n                        variant: \"success\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 424,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(SummaryPill, {\n                        label: \"\\u226580% Attendance\",\n                        value: summary.highAttendance,\n                        variant: \"warning\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 429,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(SummaryPill, {\n                        label: \"High Risk\",\n                        value: summary.highRisk,\n                        variant: \"danger\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 434,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(SummaryPill, {\n                        label: \"Medium Risk\",\n                        value: summary.mediumRisk,\n                        variant: \"warning\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 439,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(SummaryPill, {\n                        label: \"Low Risk\",\n                        value: summary.lowRisk,\n                        variant: \"success\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 444,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 413,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 402,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    md: 5,\n                    children: /*#__PURE__*/_jsxDEV(Row, {\n                      className: \"g-2\",\n                      children: [/*#__PURE__*/_jsxDEV(Col, {\n                        xs: 12,\n                        md: 7,\n                        children: /*#__PURE__*/_jsxDEV(InputGroup, {\n                          children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                            placeholder: \"Search name, district, course\\u2026\",\n                            value: search,\n                            onChange: e => setSearch(e.target.value)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 455,\n                            columnNumber: 29\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 454,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 453,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(Col, {\n                        xs: 6,\n                        md: 5,\n                        className: \"mt-2 mt-md-0\",\n                        children: /*#__PURE__*/_jsxDEV(Form.Select, {\n                          value: schoolFilter,\n                          onChange: e => setSchoolFilter(e.target.value),\n                          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"ALL\",\n                            children: \"All school types\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 467,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"govt\",\n                            children: \"Govt schools only\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 468,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"private\",\n                            children: \"Private schools only\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 469,\n                            columnNumber: 29\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 463,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 462,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(Col, {\n                        xs: 6,\n                        className: \"mt-2\",\n                        children: /*#__PURE__*/_jsxDEV(Form.Select, {\n                          value: riskFilter,\n                          onChange: e => setRiskFilter(e.target.value),\n                          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"ALL\",\n                            children: \"All risk tiers\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 479,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"HIGH\",\n                            children: \"High risk only\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 480,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"MEDIUM\",\n                            children: \"Medium risk only\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 481,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"LOW\",\n                            children: \"Low risk only\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 482,\n                            columnNumber: 29\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 475,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 474,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 452,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 451,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          className: \"shadow-sm border-0\",\n          style: {\n            borderRadius: 18\n          },\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-between align-items-center mb-3 flex-wrap\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-2 mb-md-0\",\n                children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                  className: \"mb-0\",\n                  children: \"All Students\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 498,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                  className: \"text-muted\",\n                  children: \"View saved dropout probability, deservingness score and risk from the batch ML scoring.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 499,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 497,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex align-items-center flex-wrap\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"small text-muted me-2\",\n                  children: [\"Sort by:\", \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                    style: {\n                      textTransform: \"capitalize\",\n                      color: \"#111827\"\n                    },\n                    children: sortKey\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 507,\n                    columnNumber: 21\n                  }, this), \" \", \"(\", sortDir, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 505,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  size: \"sm\",\n                  variant: \"outline-secondary\",\n                  className: \"me-2 mb-1\",\n                  onClick: () => {\n                    setSortKey(\"name\");\n                    setSortDir(\"asc\");\n                  },\n                  children: \"Reset sort\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 517,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 504,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 496,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"table-responsive\",\n              children: /*#__PURE__*/_jsxDEV(Table, {\n                hover: true,\n                className: \"align-middle mb-0\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      style: {\n                        width: 50\n                      },\n                      children: \"#\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 535,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      style: {\n                        cursor: \"pointer\"\n                      },\n                      onClick: () => toggleSort(\"name\"),\n                      children: [\"Name\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"small text-muted\",\n                        children: sortIcon(\"name\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 541,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 536,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      style: {\n                        cursor: \"pointer\"\n                      },\n                      onClick: () => toggleSort(\"district\"),\n                      children: [\"District\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"small text-muted\",\n                        children: sortIcon(\"district\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 550,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 545,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"School\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 554,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      style: {\n                        cursor: \"pointer\"\n                      },\n                      onClick: () => toggleSort(\"cutoff\"),\n                      children: [\"Cutoff\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"small text-muted\",\n                        children: sortIcon(\"cutoff\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 560,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 555,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      style: {\n                        cursor: \"pointer\"\n                      },\n                      onClick: () => toggleSort(\"family_income\"),\n                      children: [\"Family Income\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"small text-muted\",\n                        children: sortIcon(\"family_income\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 569,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 564,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      style: {\n                        cursor: \"pointer\"\n                      },\n                      onClick: () => toggleSort(\"academic\"),\n                      children: [\"Academic\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"small text-muted\",\n                        children: sortIcon(\"academic\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 578,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 573,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      style: {\n                        cursor: \"pointer\"\n                      },\n                      onClick: () => toggleSort(\"motivation\"),\n                      children: [\"Motivation\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"small text-muted\",\n                        children: sortIcon(\"motivation\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 587,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 582,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      style: {\n                        cursor: \"pointer\"\n                      },\n                      onClick: () => toggleSort(\"attendance\"),\n                      children: [\"Attendance\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"small text-muted\",\n                        children: sortIcon(\"attendance\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 596,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 591,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      style: {\n                        cursor: \"pointer\"\n                      },\n                      onClick: () => toggleSort(\"dropout\"),\n                      children: [\"Dropout Prob\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"small text-muted\",\n                        children: sortIcon(\"dropout\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 605,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 600,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      style: {\n                        cursor: \"pointer\"\n                      },\n                      onClick: () => toggleSort(\"deservingness\"),\n                      children: [\"Deservingness\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"small text-muted\",\n                        children: sortIcon(\"deservingness\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 614,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 609,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Risk\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 618,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      style: {\n                        width: 180\n                      },\n                      children: \"Action\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 619,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 534,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 533,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: filtered.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: /*#__PURE__*/_jsxDEV(\"td\", {\n                      colSpan: \"13\",\n                      className: \"text-center text-muted py-4\",\n                      children: [\"No students found. Upload a CSV from\", \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Batch Upload\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 627,\n                        columnNumber: 27\n                      }, this), \" to start tracking.\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 625,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 624,\n                    columnNumber: 23\n                  }, this) : filtered.map((s, i) => {\n                    var _ref0, _s$academic_score2, _ref1, _ref10, _s$motivation_level2, _ref11, _s$attendance_rate3, _ref12, _ref13, _s$cutoff2, _ref14, _s$family_income2, _ref15, _s$dropout_probabilit2, _ref16, _s$deservingness_scor2, _s$id;\n                    const academic = (_ref0 = (_s$academic_score2 = s.academic_score) !== null && _s$academic_score2 !== void 0 ? _s$academic_score2 : s.academicScore) !== null && _ref0 !== void 0 ? _ref0 : null;\n                    const motivation = (_ref1 = (_ref10 = (_s$motivation_level2 = s.motivation_level) !== null && _s$motivation_level2 !== void 0 ? _s$motivation_level2 : s.motivational_score) !== null && _ref10 !== void 0 ? _ref10 : s.motivationalScore) !== null && _ref1 !== void 0 ? _ref1 : null;\n                    const attendance = (_ref11 = (_s$attendance_rate3 = s.attendance_rate) !== null && _s$attendance_rate3 !== void 0 ? _s$attendance_rate3 : s.attendanceRate) !== null && _ref11 !== void 0 ? _ref11 : null;\n                    const cutoff = (_ref12 = (_ref13 = (_s$cutoff2 = s.cutoff) !== null && _s$cutoff2 !== void 0 ? _s$cutoff2 : s.cut_off) !== null && _ref13 !== void 0 ? _ref13 : s.engineering_cutoff) !== null && _ref12 !== void 0 ? _ref12 : null;\n                    const familyIncome = (_ref14 = (_s$family_income2 = s.family_income) !== null && _s$family_income2 !== void 0 ? _s$family_income2 : s.familyIncome) !== null && _ref14 !== void 0 ? _ref14 : null;\n                    const dropoutProb = (_ref15 = (_s$dropout_probabilit2 = s.dropout_probability) !== null && _s$dropout_probabilit2 !== void 0 ? _s$dropout_probabilit2 : s.dropoutProbability) !== null && _ref15 !== void 0 ? _ref15 : null;\n                    const deserving = (_ref16 = (_s$deservingness_scor2 = s.deservingness_score) !== null && _s$deservingness_scor2 !== void 0 ? _s$deservingness_scor2 : s.deservingnessScore) !== null && _ref16 !== void 0 ? _ref16 : null;\n                    const school = s.private_or_govt_school || s.privateOrGovtSchool || \"\";\n                    const dropoutPctDisplay = dropoutProb !== null ? (Number(dropoutProb) * 100).toFixed(1) + \"%\" : \"—\";\n                    const deservingDisplay = deserving !== null ? Number(deserving).toFixed(2) : \"—\";\n                    const isDeleting = deletingId === s.id;\n                    return /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: i + 1\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 676,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            fontWeight: 600\n                          },\n                          children: s.name || \"Unnamed\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 678,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"small text-muted\",\n                          children: [s.girlchild === \"yes\" || s.girl_child === \"Yes\" ? \"Girl child\" : \"\", s.orphan === \"Yes\" ? \" • Orphan\" : s.single_parent === \"Yes\" ? \" • Single parent\" : \"\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 681,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 677,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: s.district || \"-\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 693,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"small\",\n                          children: school || \"Not specified\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 695,\n                          columnNumber: 31\n                        }, this), s.preferred_course && /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"small text-muted\",\n                          children: [\"Pref: \", s.preferred_course]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 699,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 694,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: cutoff !== null ? /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: cutoff\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 706,\n                          columnNumber: 33\n                        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-muted\",\n                          children: \"-\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 708,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 704,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: familyIncome !== null ? /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: familyIncome\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 713,\n                          columnNumber: 33\n                        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-muted\",\n                          children: \"-\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 715,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 711,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: academic !== null ? /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: [academic, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"small text-muted\",\n                            children: \"/ 100\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 722,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 720,\n                          columnNumber: 33\n                        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-muted\",\n                          children: \"-\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 727,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 718,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: motivation !== null ? /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: [motivation, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"small text-muted\",\n                            children: \"/ 100 or /5\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 734,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 732,\n                          columnNumber: 33\n                        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-muted\",\n                          children: \"-\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 739,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 730,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: attendance !== null ? /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: [attendance, /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"small text-muted\",\n                            children: \"%\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 746,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 744,\n                          columnNumber: 33\n                        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-muted\",\n                          children: \"-\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 749,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 742,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          style: {\n                            fontWeight: 600,\n                            color: \"#b91c1c\",\n                            fontSize: \"0.85rem\"\n                          },\n                          children: dropoutPctDisplay\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 753,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 752,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          style: {\n                            fontWeight: 600,\n                            color: \"#15803d\",\n                            fontSize: \"0.85rem\"\n                          },\n                          children: deservingDisplay\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 764,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 763,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(RiskTierBadge, {\n                          tier: s.risk_tier\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 775,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 774,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"d-flex flex-wrap gap-1\",\n                          children: [/*#__PURE__*/_jsxDEV(OverlayTrigger, {\n                            placement: \"top\",\n                            overlay: /*#__PURE__*/_jsxDEV(Tooltip, {\n                              id: `view-${s.id}`,\n                              children: \"View full student profile\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 782,\n                              columnNumber: 37\n                            }, this),\n                            children: /*#__PURE__*/_jsxDEV(Button, {\n                              size: \"sm\",\n                              variant: \"outline-primary\",\n                              onClick: () => nav(`/students/${s.id}`),\n                              children: \"View\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 787,\n                              columnNumber: 35\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 779,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(OverlayTrigger, {\n                            placement: \"top\",\n                            overlay: /*#__PURE__*/_jsxDEV(Tooltip, {\n                              id: `expl-${s.id}`,\n                              children: \"Show model reasons & probabilities\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 799,\n                              columnNumber: 37\n                            }, this),\n                            children: /*#__PURE__*/_jsxDEV(Button, {\n                              size: \"sm\",\n                              variant: \"outline-info\",\n                              onClick: () => openExplanation(s),\n                              children: \"Reasons\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 804,\n                              columnNumber: 35\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 796,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(OverlayTrigger, {\n                            placement: \"top\",\n                            overlay: /*#__PURE__*/_jsxDEV(Tooltip, {\n                              id: `del-${s.id}`,\n                              children: \"Delete this record\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 816,\n                              columnNumber: 37\n                            }, this),\n                            children: /*#__PURE__*/_jsxDEV(Button, {\n                              size: \"sm\",\n                              variant: \"outline-danger\",\n                              disabled: isDeleting,\n                              onClick: () => handleDelete(s.id),\n                              children: isDeleting ? \"Deleting…\" : \"Delete\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 821,\n                              columnNumber: 35\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 813,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 778,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 777,\n                        columnNumber: 29\n                      }, this)]\n                    }, (_s$id = s.id) !== null && _s$id !== void 0 ? _s$id : i, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 675,\n                      columnNumber: 27\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 622,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 532,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 531,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 495,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 494,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        show: showExplain,\n        onHide: closeExplanation,\n        size: \"lg\",\n        centered: true,\n        scrollable: true,\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          closeButton: true,\n          children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n            children: [\"Prediction Reasons\", \" \", (explainStudent === null || explainStudent === void 0 ? void 0 : explainStudent.name) && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"small text-muted ms-2\",\n              children: [\"\\u2014 \", explainStudent.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 855,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 852,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 851,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n          children: !explainParsed ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-muted small mb-0\",\n            children: \"No explanation data stored for this student.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 863,\n            columnNumber: 15\n          }, this) : explainParsed.raw ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"small text-muted mb-2\",\n              children: \"Explanation stored as raw text:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 868,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n              style: {\n                background: \"#f3f4f6\",\n                padding: 10,\n                borderRadius: 8,\n                fontSize: \"0.75rem\"\n              },\n              children: explainParsed.raw\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 871,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Row, {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                md: 4,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"small text-muted\",\n                  children: \"Final probability used\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 886,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontWeight: 700\n                  },\n                  children: explainParsed.final_probability_used != null ? (explainParsed.final_probability_used * 100).toFixed(1) + \"%\" : \"N/A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 887,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 885,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 4,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"small text-muted\",\n                  children: \"Model probability\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 896,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: explainParsed.model_probability != null ? (explainParsed.model_probability * 100).toFixed(1) + \"%\" : \"N/A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 897,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 895,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 4,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"small text-muted\",\n                  children: \"Rule probability\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 905,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: explainParsed.rule_probability != null ? (explainParsed.rule_probability * 100).toFixed(1) + \"%\" : \"N/A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 906,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 904,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 884,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 915,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n              className: \"mb-1\",\n              children: \"Key model features\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 917,\n              columnNumber: 17\n            }, this), explainParsed.global_top_model_features && explainParsed.global_top_model_features.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: explainParsed.global_top_model_features.map((f, idx) => /*#__PURE__*/_jsxDEV(Badge, {\n                bg: \"light\",\n                text: \"dark\",\n                className: \"me-2 mb-2\",\n                children: f\n              }, idx, false, {\n                fileName: _jsxFileName,\n                lineNumber: 922,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 920,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"small text-muted mb-3\",\n              children: \"Not provided.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 933,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n              className: \"mb-1\",\n              children: \"Human-readable reasons\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 936,\n              columnNumber: 17\n            }, this), explainParsed.human_readable_reasons && explainParsed.human_readable_reasons.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"small text-muted mb-0\",\n              children: explainParsed.human_readable_reasons.map((r, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: r\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 941,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 939,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"small text-muted mb-0\",\n              children: \"Not provided.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 945,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 861,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"secondary\",\n            size: \"sm\",\n            onClick: closeExplanation,\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 951,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 950,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 844,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(Students, \"fUE23RtjAIHxUdi65eTZRlOCYNA=\", false, function () {\n  return [useNavigate];\n});\n_c3 = Students;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"SummaryPill\");\n$RefreshReg$(_c2, \"RiskTierBadge\");\n$RefreshReg$(_c3, \"Students\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","TopNav","Container","Card","Table","Row","Col","Form","Badge","InputGroup","Button","Modal","OverlayTrigger","Tooltip","getStudents","deleteStudent","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","SummaryPill","label","value","variant","bg","pill","className","style","fontSize","fontWeight","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","RiskTierBadge","tier","t","String","toUpperCase","minWidth","textAlign","_c2","headerBackground","pageBackground","parseExplanation","raw","obj","JSON","parse","e","out","normListField","Array","isArray","s","trim","inner","replace","split","map","x","global_top_model_features","top_features","human_readable_reasons","reasons","toNum","v","n","Number","isFinite","final_probability_used","model_probability","rule_probability","Students","_s","list","setList","search","setSearch","schoolFilter","setSchoolFilter","riskFilter","setRiskFilter","sortKey","setSortKey","sortDir","setSortDir","deletingId","setDeletingId","showExplain","setShowExplain","explainStudent","setExplainStudent","explainParsed","setExplainParsed","nav","then","d","catch","summary","length","govt","private","scholarship","highAttendance","highRisk","mediumRisk","lowRisk","toLower","toLowerCase","filter","private_or_govt_school","privateOrGovtSchool","includes","priv","any_scholarship","_ref","_s$attendance_rate","attendance_rate","attendanceRate","risk_tier","filtered","q","rows","haystack","name","district","preferred_course","preferred_location","attitude","join","sf","rf","getValue","_ref2","_s$academic_score","_ref3","_s$attendance_rate2","_ref4","_ref5","_s$motivation_level","_ref6","_s$cutoff","_ref7","_s$family_income","_ref8","_s$dropout_probabilit","_ref9","_s$deservingness_scor","academic_score","academicScore","motivation_level","motivational_score","motivationalScore","cutoff","cut_off","family_income","familyIncome","dropout_probability","dropoutProbability","deservingness_score","deservingnessScore","sort","a","b","va","vb","sa","sb","toggleSort","key","prev","sortIcon","handleDelete","id","ok","window","confirm","console","error","alert","openExplanation","student","parsed","explanation","prediction_explanation","closeExplanation","minHeight","background","fontFamily","borderRadius","Body","md","color","xs","Control","placeholder","onChange","target","Select","Title","textTransform","size","onClick","hover","width","cursor","colSpan","i","_ref0","_s$academic_score2","_ref1","_ref10","_s$motivation_level2","_ref11","_s$attendance_rate3","_ref12","_ref13","_s$cutoff2","_ref14","_s$family_income2","_ref15","_s$dropout_probabilit2","_ref16","_s$deservingness_scor2","_s$id","academic","motivation","attendance","engineering_cutoff","dropoutProb","deserving","school","dropoutPctDisplay","toFixed","deservingDisplay","isDeleting","girlchild","girl_child","orphan","single_parent","placement","overlay","disabled","show","onHide","centered","scrollable","Header","closeButton","padding","f","idx","text","r","Footer","_c3","$RefreshReg$"],"sources":["D:/newDownload/DeserveIQ/frontend/src/pages/Students.jsx"],"sourcesContent":["// src/pages/Students.jsx\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport TopNav from \"../components/TopNav\";\nimport {\n  Container,\n  Card,\n  Table,\n  Row,\n  Col,\n  Form,\n  Badge,\n  InputGroup,\n  Button,\n  Modal,\n  OverlayTrigger,\n  Tooltip,\n} from \"react-bootstrap\";\nimport { getStudents, deleteStudent } from \"../services/api\";\nimport { useNavigate } from \"react-router-dom\";\n\n// ----------------- SMALL PRESENTATIONAL COMPONENTS -----------------\n\nconst SummaryPill = ({ label, value, variant }) => (\n  <Badge\n    bg={variant}\n    pill\n    className=\"me-2 mb-2\"\n    style={{ fontSize: \"0.70rem\", fontWeight: 600 }}\n  >\n    {label}: {value}\n  </Badge>\n);\n\n// pill for risk tier\nconst RiskTierBadge = ({ tier }) => {\n  if (!tier) return <span className=\"text-muted small\">—</span>;\n  const t = String(tier).toUpperCase();\n  let variant = \"secondary\";\n  let label = t;\n\n  if (t === \"HIGH\") {\n    variant = \"danger\";\n    label = \"HIGH\";\n  } else if (t === \"MEDIUM\") {\n    variant = \"warning\";\n    label = \"MEDIUM\";\n  } else if (t === \"LOW\") {\n    variant = \"success\";\n    label = \"LOW\";\n  }\n\n  return (\n    <Badge\n      bg={variant}\n      pill\n      className=\"small\"\n      style={{ fontSize: \"0.70rem\", minWidth: 60, textAlign: \"center\" }}\n    >\n      {label}\n    </Badge>\n  );\n};\n\nconst headerBackground =\n  \"linear-gradient(135deg, rgba(248,250,252,1) 0%, rgba(239,246,255,1) 35%, rgba(221,239,253,1) 100%)\";\n\nconst pageBackground =\n  \"linear-gradient(180deg, #eff6ff 0%, #ffffff 40%, #f9fafb 100%)\";\n\n// ----------------- EXPLANATION PARSER HELPERS -----------------\n\n/**\n * explanation in DB is usually a JSON string:\n * {\n *   \"final_probability_used\":0.89,\n *   \"global_top_model_features\":\"[f_14, f_0, f_17,...]\",\n *   \"human_readable_reasons\":\"[Cutoff..., Preferred location..., ...]\",\n *   \"model_probability\":0.83,\n *   \"rule_probability\":0.95\n * }\n *\n * We normalise it into a JS object with:\n *  - final_probability_used (number)\n *  - model_probability (number)\n *  - rule_probability (number)\n *  - global_top_model_features (array of strings)\n *  - human_readable_reasons (array of strings)\n */\nconst parseExplanation = (raw) => {\n  if (!raw) return null;\n\n  let obj = null;\n\n  if (typeof raw === \"string\") {\n    try {\n      obj = JSON.parse(raw);\n    } catch (e) {\n      // maybe it is not strict JSON; just return as raw\n      return { raw };\n    }\n  } else if (typeof raw === \"object\") {\n    obj = raw;\n  }\n\n  if (!obj) return null;\n\n  const out = { ...obj };\n\n  // normalise features: might be \"['a', 'b']\" or \"[a,b]\"\n  const normListField = (value) => {\n    if (!value) return [];\n    if (Array.isArray(value)) return value;\n    const s = String(value).trim();\n    // remove leading/trailing [] if present\n    const inner = s.replace(/^\\[/, \"\").replace(/\\]$/, \"\");\n    if (!inner) return [];\n    return inner.split(\",\").map((x) => x.trim().replace(/^['\"]|['\"]$/g, \"\"));\n  };\n\n  out.global_top_model_features = normListField(\n    obj.global_top_model_features || obj.top_features\n  );\n\n  out.human_readable_reasons = normListField(\n    obj.human_readable_reasons || obj.reasons\n  );\n\n  // ensure numeric\n  const toNum = (v) => {\n    const n = Number(v);\n    return Number.isFinite(n) ? n : null;\n  };\n\n  out.final_probability_used = toNum(obj.final_probability_used);\n  out.model_probability = toNum(obj.model_probability);\n  out.rule_probability = toNum(obj.rule_probability);\n\n  return out;\n};\n\n// ----------------- MAIN COMPONENT -----------------\n\nexport default function Students() {\n  // raw list from API\n  const [list, setList] = useState([]);\n\n  // UI controls\n  const [search, setSearch] = useState(\"\");\n  const [schoolFilter, setSchoolFilter] = useState(\"ALL\");\n  const [riskFilter, setRiskFilter] = useState(\"ALL\"); // NEW: filter by LOW/MEDIUM/HIGH\n  const [sortKey, setSortKey] = useState(\"name\");\n  const [sortDir, setSortDir] = useState(\"asc\");\n\n  // delete UX\n  const [deletingId, setDeletingId] = useState(null);\n\n  // explanation modal\n  const [showExplain, setShowExplain] = useState(false);\n  const [explainStudent, setExplainStudent] = useState(null);\n  const [explainParsed, setExplainParsed] = useState(null);\n\n  const nav = useNavigate();\n\n  // --------------- LOAD STUDENTS ---------------\n\n  useEffect(() => {\n    getStudents()\n      .then((d) => setList(Array.isArray(d) ? d : []))\n      .catch(() => setList([]));\n  }, []);\n\n  // --------------- SUMMARY (HEADER PILL STATS) ---------------\n\n  const summary = useMemo(() => {\n    if (!list.length) {\n      return {\n        govt: 0,\n        private: 0,\n        scholarship: 0,\n        highAttendance: 0,\n        highRisk: 0,\n        mediumRisk: 0,\n        lowRisk: 0,\n      };\n    }\n\n    const toLower = (x) => String(x || \"\").toLowerCase();\n\n    const govt = list.filter((s) =>\n      toLower(s.private_or_govt_school || s.privateOrGovtSchool).includes(\n        \"govt\"\n      )\n    ).length;\n\n    const priv = list.filter((s) =>\n      toLower(s.private_or_govt_school || s.privateOrGovtSchool).includes(\n        \"private\"\n      )\n    ).length;\n\n    const scholarship = list.filter(\n      (s) => toLower(s.any_scholarship) === \"yes\"\n    ).length;\n\n    const highAttendance = list.filter(\n      (s) => Number(s.attendance_rate ?? s.attendanceRate ?? 0) >= 80\n    ).length;\n\n    const highRisk = list.filter(\n      (s) => String(s.risk_tier || \"\").toUpperCase() === \"HIGH\"\n    ).length;\n    const mediumRisk = list.filter(\n      (s) => String(s.risk_tier || \"\").toUpperCase() === \"MEDIUM\"\n    ).length;\n    const lowRisk = list.filter(\n      (s) => String(s.risk_tier || \"\").toUpperCase() === \"LOW\"\n    ).length;\n\n    return {\n      govt,\n      private: priv,\n      scholarship,\n      highAttendance,\n      highRisk,\n      mediumRisk,\n      lowRisk,\n    };\n  }, [list]);\n\n  // --------------- FILTER + SORT ---------------\n\n  const filtered = useMemo(() => {\n    const q = search.trim().toLowerCase();\n    let rows = [...list];\n\n    // search by name, district, preferred_course, attitude, risk_tier\n    if (q) {\n      rows = rows.filter((s) => {\n        const haystack = [\n          s.name,\n          s.district,\n          s.preferred_course,\n          s.preferred_location,\n          s.attitude,\n          s.risk_tier,\n        ]\n          .map((x) => String(x || \"\").toLowerCase())\n          .join(\" \");\n        return haystack.includes(q);\n      });\n    }\n\n    // school type filter\n    if (schoolFilter !== \"ALL\") {\n      const sf = schoolFilter.toLowerCase();\n      rows = rows.filter((s) =>\n        String(s.private_or_govt_school || s.privateOrGovtSchool || \"\")\n          .toLowerCase()\n          .includes(sf)\n      );\n    }\n\n    // risk filter\n    if (riskFilter !== \"ALL\") {\n      const rf = riskFilter.toUpperCase();\n      rows = rows.filter(\n        (s) => String(s.risk_tier || \"\").toUpperCase() === rf\n      );\n    }\n\n    // sorting\n    const getValue = (s) => {\n      switch (sortKey) {\n        case \"academic\":\n          return Number(s.academic_score ?? s.academicScore ?? 0);\n        case \"attendance\":\n          return Number(s.attendance_rate ?? s.attendanceRate ?? 0);\n        case \"motivation\":\n          // DB may store motivational_score or motivation_level\n          return Number(\n            s.motivation_level ??\n              s.motivational_score ??\n              s.motivationalScore ??\n              0\n          );\n        case \"district\":\n          return String(s.district || \"\").toLowerCase();\n        case \"cutoff\":\n          return Number(s.cutoff ?? s.cut_off ?? 0);\n        case \"family_income\":\n          return Number(s.family_income ?? s.familyIncome ?? 0);\n        case \"dropout\":\n          return Number(s.dropout_probability ?? s.dropoutProbability ?? 0);\n        case \"deservingness\":\n          return Number(\n            s.deservingness_score ?? s.deservingnessScore ?? 0\n          );\n        case \"name\":\n        default:\n          return String(s.name || \"\").toLowerCase();\n      }\n    };\n\n    rows.sort((a, b) => {\n      const va = getValue(a);\n      const vb = getValue(b);\n\n      if (typeof va === \"number\" && typeof vb === \"number\") {\n        if (va < vb) return sortDir === \"asc\" ? -1 : 1;\n        if (va > vb) return sortDir === \"asc\" ? 1 : -1;\n        return 0;\n      }\n\n      // string compare\n      const sa = String(va);\n      const sb = String(vb);\n      if (sa < sb) return sortDir === \"asc\" ? -1 : 1;\n      if (sa > sb) return sortDir === \"asc\" ? 1 : -1;\n      return 0;\n    });\n\n    return rows;\n  }, [list, search, schoolFilter, riskFilter, sortKey, sortDir]);\n\n  // --------------- SORT HELPERS ---------------\n\n  const toggleSort = (key) => {\n    if (key === sortKey) {\n      setSortDir((prev) => (prev === \"asc\" ? \"desc\" : \"asc\"));\n    } else {\n      setSortKey(key);\n      setSortDir(\"asc\");\n    }\n  };\n\n  const sortIcon = (key) => {\n    if (key !== sortKey) return \"↕\";\n    return sortDir === \"asc\" ? \"↑\" : \"↓\";\n  };\n\n  // --------------- DELETE HANDLER ---------------\n\n  const handleDelete = async (id) => {\n    if (!id) return;\n    const ok = window.confirm(\n      \"Are you sure you want to delete this student record?\"\n    );\n    if (!ok) return;\n\n    try {\n      setDeletingId(id);\n      await deleteStudent(id);\n      setList((prev) => prev.filter((s) => s.id !== id));\n    } catch (e) {\n      console.error(e);\n      alert(\"Failed to delete student. Please try again.\");\n    } finally {\n      setDeletingId(null);\n    }\n  };\n\n  // --------------- EXPLANATION MODAL ---------------\n\n  const openExplanation = (student) => {\n    if (!student) return;\n    setExplainStudent(student);\n    const parsed = parseExplanation(\n      student.explanation || student.prediction_explanation\n    );\n    setExplainParsed(parsed);\n    setShowExplain(true);\n  };\n\n  const closeExplanation = () => {\n    setShowExplain(false);\n    setExplainStudent(null);\n    setExplainParsed(null);\n  };\n\n  // --------------- RENDER ---------------\n\n  return (\n    <>\n      <TopNav />\n      <div\n        style={{\n          minHeight: \"100vh\",\n          background: pageBackground,\n          fontFamily: '\"Inter\", system-ui, -apple-system, BlinkMacSystemFont',\n        }}\n      >\n        <Container className=\"py-4\">\n          {/* Header strip */}\n          <Row className=\"mb-3\">\n            <Col>\n              <Card\n                className=\"border-0 shadow-sm\"\n                style={{ borderRadius: 18, background: headerBackground }}\n              >\n                <Card.Body>\n                  <Row className=\"align-items-center g-3\">\n                    <Col md={7}>\n                      <h3\n                        className=\"mb-1\"\n                        style={{ color: \"#111827\", fontWeight: 700 }}\n                      >\n                        Students Registry\n                      </h3>\n                      <small className=\"text-muted\">\n                        {list.length} record(s) synced from DeserveIQ batch\n                        uploads.\n                      </small>\n                      <div className=\"mt-3 d-flex flex-wrap\">\n                        <SummaryPill\n                          label=\"Govt\"\n                          value={summary.govt}\n                          variant=\"primary\"\n                        />\n                        <SummaryPill\n                          label=\"Private\"\n                          value={summary.private}\n                          variant=\"info\"\n                        />\n                        <SummaryPill\n                          label=\"Scholarship\"\n                          value={summary.scholarship}\n                          variant=\"success\"\n                        />\n                        <SummaryPill\n                          label=\"≥80% Attendance\"\n                          value={summary.highAttendance}\n                          variant=\"warning\"\n                        />\n                        <SummaryPill\n                          label=\"High Risk\"\n                          value={summary.highRisk}\n                          variant=\"danger\"\n                        />\n                        <SummaryPill\n                          label=\"Medium Risk\"\n                          value={summary.mediumRisk}\n                          variant=\"warning\"\n                        />\n                        <SummaryPill\n                          label=\"Low Risk\"\n                          value={summary.lowRisk}\n                          variant=\"success\"\n                        />\n                      </div>\n                    </Col>\n                    <Col md={5}>\n                      <Row className=\"g-2\">\n                        <Col xs={12} md={7}>\n                          <InputGroup>\n                            <Form.Control\n                              placeholder=\"Search name, district, course…\"\n                              value={search}\n                              onChange={(e) => setSearch(e.target.value)}\n                            />\n                          </InputGroup>\n                        </Col>\n                        <Col xs={6} md={5} className=\"mt-2 mt-md-0\">\n                          <Form.Select\n                            value={schoolFilter}\n                            onChange={(e) => setSchoolFilter(e.target.value)}\n                          >\n                            <option value=\"ALL\">All school types</option>\n                            <option value=\"govt\">Govt schools only</option>\n                            <option value=\"private\">\n                              Private schools only\n                            </option>\n                          </Form.Select>\n                        </Col>\n                        <Col xs={6} className=\"mt-2\">\n                          <Form.Select\n                            value={riskFilter}\n                            onChange={(e) => setRiskFilter(e.target.value)}\n                          >\n                            <option value=\"ALL\">All risk tiers</option>\n                            <option value=\"HIGH\">High risk only</option>\n                            <option value=\"MEDIUM\">Medium risk only</option>\n                            <option value=\"LOW\">Low risk only</option>\n                          </Form.Select>\n                        </Col>\n                      </Row>\n                    </Col>\n                  </Row>\n                </Card.Body>\n              </Card>\n            </Col>\n          </Row>\n\n          {/* Main table card */}\n          <Card className=\"shadow-sm border-0\" style={{ borderRadius: 18 }}>\n            <Card.Body>\n              <div className=\"d-flex justify-content-between align-items-center mb-3 flex-wrap\">\n                <div className=\"mb-2 mb-md-0\">\n                  <Card.Title className=\"mb-0\">All Students</Card.Title>\n                  <small className=\"text-muted\">\n                    View saved dropout probability, deservingness score and risk\n                    from the batch ML scoring.\n                  </small>\n                </div>\n                <div className=\"d-flex align-items-center flex-wrap\">\n                  <span className=\"small text-muted me-2\">\n                    Sort by:{\" \"}\n                    <strong\n                      style={{\n                        textTransform: \"capitalize\",\n                        color: \"#111827\",\n                      }}\n                    >\n                      {sortKey}\n                    </strong>{\" \"}\n                    ({sortDir})\n                  </span>\n                  <Button\n                    size=\"sm\"\n                    variant=\"outline-secondary\"\n                    className=\"me-2 mb-1\"\n                    onClick={() => {\n                      setSortKey(\"name\");\n                      setSortDir(\"asc\");\n                    }}\n                  >\n                    Reset sort\n                  </Button>\n                </div>\n              </div>\n\n              <div className=\"table-responsive\">\n                <Table hover className=\"align-middle mb-0\">\n                  <thead>\n                    <tr>\n                      <th style={{ width: 50 }}>#</th>\n                      <th\n                        style={{ cursor: \"pointer\" }}\n                        onClick={() => toggleSort(\"name\")}\n                      >\n                        Name{\" \"}\n                        <span className=\"small text-muted\">\n                          {sortIcon(\"name\")}\n                        </span>\n                      </th>\n                      <th\n                        style={{ cursor: \"pointer\" }}\n                        onClick={() => toggleSort(\"district\")}\n                      >\n                        District{\" \"}\n                        <span className=\"small text-muted\">\n                          {sortIcon(\"district\")}\n                        </span>\n                      </th>\n                      <th>School</th>\n                      <th\n                        style={{ cursor: \"pointer\" }}\n                        onClick={() => toggleSort(\"cutoff\")}\n                      >\n                        Cutoff{\" \"}\n                        <span className=\"small text-muted\">\n                          {sortIcon(\"cutoff\")}\n                        </span>\n                      </th>\n                      <th\n                        style={{ cursor: \"pointer\" }}\n                        onClick={() => toggleSort(\"family_income\")}\n                      >\n                        Family Income{\" \"}\n                        <span className=\"small text-muted\">\n                          {sortIcon(\"family_income\")}\n                        </span>\n                      </th>\n                      <th\n                        style={{ cursor: \"pointer\" }}\n                        onClick={() => toggleSort(\"academic\")}\n                      >\n                        Academic{\" \"}\n                        <span className=\"small text-muted\">\n                          {sortIcon(\"academic\")}\n                        </span>\n                      </th>\n                      <th\n                        style={{ cursor: \"pointer\" }}\n                        onClick={() => toggleSort(\"motivation\")}\n                      >\n                        Motivation{\" \"}\n                        <span className=\"small text-muted\">\n                          {sortIcon(\"motivation\")}\n                        </span>\n                      </th>\n                      <th\n                        style={{ cursor: \"pointer\" }}\n                        onClick={() => toggleSort(\"attendance\")}\n                      >\n                        Attendance{\" \"}\n                        <span className=\"small text-muted\">\n                          {sortIcon(\"attendance\")}\n                        </span>\n                      </th>\n                      <th\n                        style={{ cursor: \"pointer\" }}\n                        onClick={() => toggleSort(\"dropout\")}\n                      >\n                        Dropout Prob{\" \"}\n                        <span className=\"small text-muted\">\n                          {sortIcon(\"dropout\")}\n                        </span>\n                      </th>\n                      <th\n                        style={{ cursor: \"pointer\" }}\n                        onClick={() => toggleSort(\"deservingness\")}\n                      >\n                        Deservingness{\" \"}\n                        <span className=\"small text-muted\">\n                          {sortIcon(\"deservingness\")}\n                        </span>\n                      </th>\n                      <th>Risk</th>\n                      <th style={{ width: 180 }}>Action</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {filtered.length === 0 ? (\n                      <tr>\n                        <td colSpan=\"13\" className=\"text-center text-muted py-4\">\n                          No students found. Upload a CSV from{\" \"}\n                          <strong>Batch Upload</strong> to start tracking.\n                        </td>\n                      </tr>\n                    ) : (\n                      filtered.map((s, i) => {\n                        const academic =\n                          s.academic_score ?? s.academicScore ?? null;\n                        const motivation =\n                          s.motivation_level ??\n                          s.motivational_score ??\n                          s.motivationalScore ??\n                          null;\n                        const attendance =\n                          s.attendance_rate ?? s.attendanceRate ?? null;\n\n                        const cutoff =\n                          s.cutoff ?? s.cut_off ?? s.engineering_cutoff ?? null;\n\n                        const familyIncome =\n                          s.family_income ?? s.familyIncome ?? null;\n\n                        const dropoutProb =\n                          s.dropout_probability ??\n                          s.dropoutProbability ??\n                          null;\n                        const deserving =\n                          s.deservingness_score ??\n                          s.deservingnessScore ??\n                          null;\n\n                        const school =\n                          s.private_or_govt_school ||\n                          s.privateOrGovtSchool ||\n                          \"\";\n\n                        const dropoutPctDisplay =\n                          dropoutProb !== null\n                            ? (Number(dropoutProb) * 100).toFixed(1) + \"%\"\n                            : \"—\";\n\n                        const deservingDisplay =\n                          deserving !== null\n                            ? Number(deserving).toFixed(2)\n                            : \"—\";\n\n                        const isDeleting = deletingId === s.id;\n\n                        return (\n                          <tr key={s.id ?? i}>\n                            <td>{i + 1}</td>\n                            <td>\n                              <div style={{ fontWeight: 600 }}>\n                                {s.name || \"Unnamed\"}\n                              </div>\n                              <div className=\"small text-muted\">\n                                {s.girlchild === \"yes\" ||\n                                s.girl_child === \"Yes\"\n                                  ? \"Girl child\"\n                                  : \"\"}\n                                {s.orphan === \"Yes\"\n                                  ? \" • Orphan\"\n                                  : s.single_parent === \"Yes\"\n                                  ? \" • Single parent\"\n                                  : \"\"}\n                              </div>\n                            </td>\n                            <td>{s.district || \"-\"}</td>\n                            <td>\n                              <span className=\"small\">\n                                {school || \"Not specified\"}\n                              </span>\n                              {s.preferred_course && (\n                                <div className=\"small text-muted\">\n                                  Pref: {s.preferred_course}\n                                </div>\n                              )}\n                            </td>\n                            <td>\n                              {cutoff !== null ? (\n                                <span>{cutoff}</span>\n                              ) : (\n                                <span className=\"text-muted\">-</span>\n                              )}\n                            </td>\n                            <td>\n                              {familyIncome !== null ? (\n                                <span>{familyIncome}</span>\n                              ) : (\n                                <span className=\"text-muted\">-</span>\n                              )}\n                            </td>\n                            <td>\n                              {academic !== null ? (\n                                <span>\n                                  {academic}{\" \"}\n                                  <span className=\"small text-muted\">\n                                    / 100\n                                  </span>\n                                </span>\n                              ) : (\n                                <span className=\"text-muted\">-</span>\n                              )}\n                            </td>\n                            <td>\n                              {motivation !== null ? (\n                                <span>\n                                  {motivation}{\" \"}\n                                  <span className=\"small text-muted\">\n                                    / 100 or /5\n                                  </span>\n                                </span>\n                              ) : (\n                                <span className=\"text-muted\">-</span>\n                              )}\n                            </td>\n                            <td>\n                              {attendance !== null ? (\n                                <span>\n                                  {attendance}\n                                  <span className=\"small text-muted\">%</span>\n                                </span>\n                              ) : (\n                                <span className=\"text-muted\">-</span>\n                              )}\n                            </td>\n                            <td>\n                              <span\n                                style={{\n                                  fontWeight: 600,\n                                  color: \"#b91c1c\",\n                                  fontSize: \"0.85rem\",\n                                }}\n                              >\n                                {dropoutPctDisplay}\n                              </span>\n                            </td>\n                            <td>\n                              <span\n                                style={{\n                                  fontWeight: 600,\n                                  color: \"#15803d\",\n                                  fontSize: \"0.85rem\",\n                                }}\n                              >\n                                {deservingDisplay}\n                              </span>\n                            </td>\n                            <td>\n                              <RiskTierBadge tier={s.risk_tier} />\n                            </td>\n                            <td>\n                              <div className=\"d-flex flex-wrap gap-1\">\n                                <OverlayTrigger\n                                  placement=\"top\"\n                                  overlay={\n                                    <Tooltip id={`view-${s.id}`}>\n                                      View full student profile\n                                    </Tooltip>\n                                  }\n                                >\n                                  <Button\n                                    size=\"sm\"\n                                    variant=\"outline-primary\"\n                                    onClick={() => nav(`/students/${s.id}`)}\n                                  >\n                                    View\n                                  </Button>\n                                </OverlayTrigger>\n\n                                <OverlayTrigger\n                                  placement=\"top\"\n                                  overlay={\n                                    <Tooltip id={`expl-${s.id}`}>\n                                      Show model reasons & probabilities\n                                    </Tooltip>\n                                  }\n                                >\n                                  <Button\n                                    size=\"sm\"\n                                    variant=\"outline-info\"\n                                    onClick={() => openExplanation(s)}\n                                  >\n                                    Reasons\n                                  </Button>\n                                </OverlayTrigger>\n\n                                <OverlayTrigger\n                                  placement=\"top\"\n                                  overlay={\n                                    <Tooltip id={`del-${s.id}`}>\n                                      Delete this record\n                                    </Tooltip>\n                                  }\n                                >\n                                  <Button\n                                    size=\"sm\"\n                                    variant=\"outline-danger\"\n                                    disabled={isDeleting}\n                                    onClick={() => handleDelete(s.id)}\n                                  >\n                                    {isDeleting ? \"Deleting…\" : \"Delete\"}\n                                  </Button>\n                                </OverlayTrigger>\n                              </div>\n                            </td>\n                          </tr>\n                        );\n                      })\n                    )}\n                  </tbody>\n                </Table>\n              </div>\n            </Card.Body>\n          </Card>\n        </Container>\n\n        {/* Explanation Modal */}\n        <Modal\n          show={showExplain}\n          onHide={closeExplanation}\n          size=\"lg\"\n          centered\n          scrollable\n        >\n          <Modal.Header closeButton>\n            <Modal.Title>\n              Prediction Reasons{\" \"}\n              {explainStudent?.name && (\n                <span className=\"small text-muted ms-2\">\n                  — {explainStudent.name}\n                </span>\n              )}\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            {!explainParsed ? (\n              <p className=\"text-muted small mb-0\">\n                No explanation data stored for this student.\n              </p>\n            ) : explainParsed.raw ? (\n              <>\n                <p className=\"small text-muted mb-2\">\n                  Explanation stored as raw text:\n                </p>\n                <pre\n                  style={{\n                    background: \"#f3f4f6\",\n                    padding: 10,\n                    borderRadius: 8,\n                    fontSize: \"0.75rem\",\n                  }}\n                >\n                  {explainParsed.raw}\n                </pre>\n              </>\n            ) : (\n              <>\n                <Row className=\"mb-3\">\n                  <Col md={4}>\n                    <div className=\"small text-muted\">Final probability used</div>\n                    <div style={{ fontWeight: 700 }}>\n                      {explainParsed.final_probability_used != null\n                        ? (explainParsed.final_probability_used * 100).toFixed(\n                            1\n                          ) + \"%\"\n                        : \"N/A\"}\n                    </div>\n                  </Col>\n                  <Col md={4}>\n                    <div className=\"small text-muted\">Model probability</div>\n                    <div>\n                      {explainParsed.model_probability != null\n                        ? (explainParsed.model_probability * 100).toFixed(1) +\n                          \"%\"\n                        : \"N/A\"}\n                    </div>\n                  </Col>\n                  <Col md={4}>\n                    <div className=\"small text-muted\">Rule probability</div>\n                    <div>\n                      {explainParsed.rule_probability != null\n                        ? (explainParsed.rule_probability * 100).toFixed(1) +\n                          \"%\"\n                        : \"N/A\"}\n                    </div>\n                  </Col>\n                </Row>\n\n                <hr />\n\n                <h6 className=\"mb-1\">Key model features</h6>\n                {explainParsed.global_top_model_features &&\n                explainParsed.global_top_model_features.length > 0 ? (\n                  <div className=\"mb-3\">\n                    {explainParsed.global_top_model_features.map((f, idx) => (\n                      <Badge\n                        key={idx}\n                        bg=\"light\"\n                        text=\"dark\"\n                        className=\"me-2 mb-2\"\n                      >\n                        {f}\n                      </Badge>\n                    ))}\n                  </div>\n                ) : (\n                  <p className=\"small text-muted mb-3\">Not provided.</p>\n                )}\n\n                <h6 className=\"mb-1\">Human-readable reasons</h6>\n                {explainParsed.human_readable_reasons &&\n                explainParsed.human_readable_reasons.length > 0 ? (\n                  <ul className=\"small text-muted mb-0\">\n                    {explainParsed.human_readable_reasons.map((r, i) => (\n                      <li key={i}>{r}</li>\n                    ))}\n                  </ul>\n                ) : (\n                  <p className=\"small text-muted mb-0\">Not provided.</p>\n                )}\n              </>\n            )}\n          </Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"secondary\" size=\"sm\" onClick={closeExplanation}>\n              Close\n            </Button>\n          </Modal.Footer>\n        </Modal>\n      </div>\n    </>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}