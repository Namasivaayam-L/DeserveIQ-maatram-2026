{"ast":null,"code":"var _jsxFileName = \"D:\\\\newDownload\\\\DeserveIQ\\\\frontend\\\\src\\\\pages\\\\BatchUpload.jsx\",\n  _s = $RefreshSig$();\n// src/pages/BatchUpload.jsx\nimport React, { useState, useMemo } from \"react\";\nimport TopNav from \"../components/TopNav\";\nimport { Container, Row, Col, Card, Form, Button, Table, Badge, OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport { predictBatch } from \"../services/api\";\nimport Papa from \"papaparse\";\nimport { toast } from \"react-toastify\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst pageBackground = \"linear-gradient(180deg, #eff6ff 0%, #ffffff 40%, #f9fafb 100%)\";\nconst headerGradient = \"linear-gradient(135deg, rgba(248,250,252,1) 0%, rgba(239,246,255,1) 40%, rgba(219,234,254,1) 100%)\";\n\n// CSV help panel — updated to reflect FINAL required fields\nconst CsvHint = () => /*#__PURE__*/_jsxDEV(Card, {\n  className: \"border-0 shadow-sm mt-3\",\n  style: {\n    borderRadius: 14,\n    backgroundColor: \"#f9fafb\"\n  },\n  children: /*#__PURE__*/_jsxDEV(Card.Body, {\n    className: \"py-3\",\n    children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n      className: \"mb-2\",\n      children: \"Correct CSV Format\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"small text-muted mb-2\",\n      children: \"Your CSV must contain ONLY the required model columns:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"small mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(\"code\", {\n          children: \"name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(\"code\", {\n          children: \"district\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(\"code\", {\n          children: \"cutoff\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(\"code\", {\n          children: \"preferred_location\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(\"code\", {\n          children: \"preferred_course\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(\"code\", {\n          children: \"family_income_tier\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(\"code\", {\n          children: \"family_income\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(\"code\", {\n          children: \"family_members\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"code\", {\n          children: \"marks_10\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this), \", \", /*#__PURE__*/_jsxDEV(\"code\", {\n          children: \"marks_11\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 36\n        }, this), \", \", /*#__PURE__*/_jsxDEV(\"code\", {\n          children: \"marks_12\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 59\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"code\", {\n          children: \"motivational_score\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }, this), \", \", /*#__PURE__*/_jsxDEV(\"code\", {\n          children: \"attendance_rate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 46\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"code\", {\n          children: \"communication_freq\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }, this), \", \", /*#__PURE__*/_jsxDEV(\"code\", {\n          children: \"interest_lvl\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 46\n        }, this), \", \", /*#__PURE__*/_jsxDEV(\"code\", {\n          children: \"family_support\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 73\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(\"code\", {\n          children: \"academic_score\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"code\", {\n          children: \"orphan\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this), \", \", /*#__PURE__*/_jsxDEV(\"code\", {\n          children: \"single_parent\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 34\n        }, this), \", \", /*#__PURE__*/_jsxDEV(\"code\", {\n          children: \"first_graduate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 62\n        }, this), \", \", /*#__PURE__*/_jsxDEV(\"code\", {\n          children: \"girlchild\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 91\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(\"code\", {\n          children: \"attitude\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"small text-muted mb-0\",\n      children: [\"After upload, a \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"predictions.csv\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 25\n      }, this), \" will be downloaded containing all original columns + ML output fields:\", /*#__PURE__*/_jsxDEV(\"code\", {\n        children: \" dropout_probability\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), \",\", /*#__PURE__*/_jsxDEV(\"code\", {\n        children: \" deservingness_score\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), \",\", /*#__PURE__*/_jsxDEV(\"code\", {\n        children: \" risk_tier\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), \".\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 27,\n  columnNumber: 3\n}, this);\n_c = CsvHint;\nexport default function BatchUpload() {\n  _s();\n  const [file, setFile] = useState(null);\n  const [preview, setPreview] = useState([]);\n  const [headers, setHeaders] = useState([]);\n  const [uploading, setUploading] = useState(false);\n  const loadFile = f => {\n    if (!f) return;\n    setFile(f);\n    Papa.parse(f, {\n      header: true,\n      preview: 20,\n      skipEmptyLines: true,\n      complete: res => {\n        setHeaders(res.meta.fields || []);\n        setPreview(res.data.slice(0, 20));\n      },\n      error: () => {\n        toast.error(\"Unable to read CSV. Please check format.\");\n        setHeaders([]);\n        setPreview([]);\n      }\n    });\n  };\n  const upload = async () => {\n    if (!file) return toast.warn(\"Choose CSV first\");\n    try {\n      setUploading(true);\n      const res = await predictBatch(file);\n      const blob = res && res.data instanceof Blob ? res.data : new Blob([res.data || res], {\n        type: \"text/csv\"\n      });\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement(\"a\");\n      a.href = url;\n      a.download = \"predictions.csv\";\n      a.click();\n      toast.success(\"Batch scored successfully!\");\n    } catch (e) {\n      console.error(e);\n      toast.error(\"Batch prediction failed\");\n    } finally {\n      setUploading(false);\n    }\n  };\n  const stats = useMemo(() => ({\n    rows: preview.length || 0,\n    cols: headers.length || 0\n  }), [preview, headers]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(TopNav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        minHeight: \"100vh\",\n        background: pageBackground,\n        fontFamily: '\"Inter\", system-ui, -apple-system, BlinkMacSystemFont'\n      },\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        className: \"py-4\",\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          className: \"mb-3\",\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              className: \"border-0 shadow-sm\",\n              style: {\n                borderRadius: 18,\n                background: headerGradient\n              },\n              children: /*#__PURE__*/_jsxDEV(Card.Body, {\n                className: \"d-flex justify-content-between flex-wrap align-items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-2 mb-md-0\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"mb-1\",\n                    style: {\n                      fontWeight: 700\n                    },\n                    children: \"Batch Upload & Prediction\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 145,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"text-muted\",\n                    children: \"Upload a CSV file and score multiple students together.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 148,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-end\",\n                  children: [/*#__PURE__*/_jsxDEV(Badge, {\n                    bg: preview.length ? \"primary\" : \"secondary\",\n                    pill: true,\n                    className: \"me-2\",\n                    children: [\"Rows: \", stats.rows]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 153,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                    bg: preview.length ? \"info\" : \"secondary\",\n                    pill: true,\n                    children: [\"Columns: \", stats.cols]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 156,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"g-4\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 4,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              className: \"p-3 shadow-sm border-0\",\n              style: {\n                borderRadius: 18\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"mb-1\",\n                children: \"Upload CSV\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                className: \"text-muted\",\n                children: [\"Supported format: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \".csv\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mt-3 mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  className: \"small text-muted\",\n                  children: \"Select file\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"file\",\n                  accept: \".csv\",\n                  onChange: e => loadFile(e.target.files[0])\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 19\n                }, this), file && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"small text-muted mt-1\",\n                  children: [\"Selected: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: file.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 184,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                onClick: upload,\n                disabled: uploading || !file,\n                className: \"w-100 mb-2\",\n                children: uploading ? \"Scoring…\" : \"Upload & Score\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(CsvHint, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 8,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              className: \"p-3 shadow-sm border-0\",\n              style: {\n                borderRadius: 18\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex justify-content-between align-items-center mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"mb-0\",\n                    children: \"CSV Preview\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 206,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"text-muted\",\n                    children: \"Showing first 20 rows for verification.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 207,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 19\n                }, this), preview.length > 0 && /*#__PURE__*/_jsxDEV(Badge, {\n                  bg: \"light\",\n                  text: \"secondary\",\n                  pill: true,\n                  children: [preview.length, \" row(s)\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 17\n              }, this), preview.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-muted mt-3 mb-0\",\n                children: \"No preview available \\u2014 upload a CSV to continue.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"table-responsive mt-2\",\n                children: /*#__PURE__*/_jsxDEV(Table, {\n                  size: \"sm\",\n                  responsive: true,\n                  hover: true,\n                  className: \"align-middle\",\n                  children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                    children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: headers.map(h => /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"text-nowrap\",\n                        children: h\n                      }, h, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 228,\n                        columnNumber: 29\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 226,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 225,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                    children: preview.map((row, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: headers.map(h => /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"text-nowrap\",\n                        children: row[h]\n                      }, h, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 236,\n                        columnNumber: 31\n                      }, this))\n                    }, i, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 234,\n                      columnNumber: 27\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 232,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(BatchUpload, \"q3FH7WtUxI6L2qyo1ULb8bPKntE=\");\n_c2 = BatchUpload;\nvar _c, _c2;\n$RefreshReg$(_c, \"CsvHint\");\n$RefreshReg$(_c2, \"BatchUpload\");","map":{"version":3,"names":["React","useState","useMemo","TopNav","Container","Row","Col","Card","Form","Button","Table","Badge","OverlayTrigger","Tooltip","predictBatch","Papa","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","pageBackground","headerGradient","CsvHint","className","style","borderRadius","backgroundColor","children","Body","fileName","_jsxFileName","lineNumber","columnNumber","_c","BatchUpload","_s","file","setFile","preview","setPreview","headers","setHeaders","uploading","setUploading","loadFile","f","parse","header","skipEmptyLines","complete","res","meta","fields","data","slice","error","upload","warn","blob","Blob","type","url","window","URL","createObjectURL","a","document","createElement","href","download","click","success","e","console","stats","rows","length","cols","minHeight","background","fontFamily","fontWeight","bg","pill","md","Group","Label","Control","accept","onChange","target","files","name","onClick","disabled","text","size","responsive","hover","map","h","row","i","_c2","$RefreshReg$"],"sources":["D:/newDownload/DeserveIQ/frontend/src/pages/BatchUpload.jsx"],"sourcesContent":["// src/pages/BatchUpload.jsx\nimport React, { useState, useMemo } from \"react\";\nimport TopNav from \"../components/TopNav\";\nimport {\n  Container,\n  Row,\n  Col,\n  Card,\n  Form,\n  Button,\n  Table,\n  Badge,\n  OverlayTrigger,\n  Tooltip,\n} from \"react-bootstrap\";\nimport { predictBatch } from \"../services/api\";\nimport Papa from \"papaparse\";\nimport { toast } from \"react-toastify\";\n\nconst pageBackground =\n  \"linear-gradient(180deg, #eff6ff 0%, #ffffff 40%, #f9fafb 100%)\";\nconst headerGradient =\n  \"linear-gradient(135deg, rgba(248,250,252,1) 0%, rgba(239,246,255,1) 40%, rgba(219,234,254,1) 100%)\";\n\n// CSV help panel — updated to reflect FINAL required fields\nconst CsvHint = () => (\n  <Card\n    className=\"border-0 shadow-sm mt-3\"\n    style={{ borderRadius: 14, backgroundColor: \"#f9fafb\" }}\n  >\n    <Card.Body className=\"py-3\">\n      <h6 className=\"mb-2\">Correct CSV Format</h6>\n      <p className=\"small text-muted mb-2\">\n        Your CSV must contain ONLY the required model columns:\n      </p>\n\n      <ul className=\"small mb-2\">\n        <li><code>name</code></li>\n        <li><code>district</code></li>\n        <li><code>cutoff</code></li>\n        <li><code>preferred_location</code></li>\n        <li><code>preferred_course</code></li>\n        <li><code>family_income_tier</code></li>\n        <li><code>family_income</code></li>\n        <li><code>family_members</code></li>\n        <li><code>marks_10</code>, <code>marks_11</code>, <code>marks_12</code></li>\n        <li><code>motivational_score</code>, <code>attendance_rate</code></li>\n        <li><code>communication_freq</code>, <code>interest_lvl</code>, <code>family_support</code></li>\n        <li><code>academic_score</code></li>\n        <li><code>orphan</code>, <code>single_parent</code>, <code>first_graduate</code>, <code>girlchild</code></li>\n        <li><code>attitude</code></li>\n      </ul>\n\n      <p className=\"small text-muted mb-0\">\n        After upload, a <strong>predictions.csv</strong> will be downloaded\n        containing all original columns + ML output fields:\n        <code> dropout_probability</code>,\n        <code> deservingness_score</code>,\n        <code> risk_tier</code>.\n      </p>\n    </Card.Body>\n  </Card>\n);\n\nexport default function BatchUpload() {\n  const [file, setFile] = useState(null);\n  const [preview, setPreview] = useState([]);\n  const [headers, setHeaders] = useState([]);\n  const [uploading, setUploading] = useState(false);\n\n  const loadFile = (f) => {\n    if (!f) return;\n    setFile(f);\n    Papa.parse(f, {\n      header: true,\n      preview: 20,\n      skipEmptyLines: true,\n      complete: (res) => {\n        setHeaders(res.meta.fields || []);\n        setPreview(res.data.slice(0, 20));\n      },\n      error: () => {\n        toast.error(\"Unable to read CSV. Please check format.\");\n        setHeaders([]);\n        setPreview([]);\n      },\n    });\n  };\n\n  const upload = async () => {\n    if (!file) return toast.warn(\"Choose CSV first\");\n\n    try {\n      setUploading(true);\n      const res = await predictBatch(file);\n\n      const blob =\n        res && res.data instanceof Blob\n          ? res.data\n          : new Blob([res.data || res], { type: \"text/csv\" });\n\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement(\"a\");\n      a.href = url;\n      a.download = \"predictions.csv\";\n      a.click();\n\n      toast.success(\"Batch scored successfully!\");\n    } catch (e) {\n      console.error(e);\n      toast.error(\"Batch prediction failed\");\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  const stats = useMemo(\n    () => ({\n      rows: preview.length || 0,\n      cols: headers.length || 0,\n    }),\n    [preview, headers]\n  );\n\n  return (\n    <>\n      <TopNav />\n      <div\n        style={{\n          minHeight: \"100vh\",\n          background: pageBackground,\n          fontFamily: '\"Inter\", system-ui, -apple-system, BlinkMacSystemFont',\n        }}\n      >\n        <Container className=\"py-4\">\n          {/* HEADER */}\n          <Row className=\"mb-3\">\n            <Col>\n              <Card\n                className=\"border-0 shadow-sm\"\n                style={{ borderRadius: 18, background: headerGradient }}\n              >\n                <Card.Body className=\"d-flex justify-content-between flex-wrap align-items-center\">\n                  <div className=\"mb-2 mb-md-0\">\n                    <h3 className=\"mb-1\" style={{ fontWeight: 700 }}>\n                      Batch Upload & Prediction\n                    </h3>\n                    <small className=\"text-muted\">\n                      Upload a CSV file and score multiple students together.\n                    </small>\n                  </div>\n                  <div className=\"text-end\">\n                    <Badge bg={preview.length ? \"primary\" : \"secondary\"} pill className=\"me-2\">\n                      Rows: {stats.rows}\n                    </Badge>\n                    <Badge bg={preview.length ? \"info\" : \"secondary\"} pill>\n                      Columns: {stats.cols}\n                    </Badge>\n                  </div>\n                </Card.Body>\n              </Card>\n            </Col>\n          </Row>\n\n          {/* MAIN */}\n          <Row className=\"g-4\">\n            {/* LEFT PANEL */}\n            <Col md={4}>\n              <Card className=\"p-3 shadow-sm border-0\" style={{ borderRadius: 18 }}>\n                <h5 className=\"mb-1\">Upload CSV</h5>\n                <small className=\"text-muted\">\n                  Supported format: <strong>.csv</strong>\n                </small>\n\n                <Form.Group className=\"mt-3 mb-3\">\n                  <Form.Label className=\"small text-muted\">Select file</Form.Label>\n                  <Form.Control\n                    type=\"file\"\n                    accept=\".csv\"\n                    onChange={(e) => loadFile(e.target.files[0])}\n                  />\n                  {file && (\n                    <div className=\"small text-muted mt-1\">\n                      Selected: <strong>{file.name}</strong>\n                    </div>\n                  )}\n                </Form.Group>\n\n                <Button\n                  onClick={upload}\n                  disabled={uploading || !file}\n                  className=\"w-100 mb-2\"\n                >\n                  {uploading ? \"Scoring…\" : \"Upload & Score\"}\n                </Button>\n\n                <CsvHint />\n              </Card>\n            </Col>\n\n            {/* RIGHT PREVIEW */}\n            <Col md={8}>\n              <Card className=\"p-3 shadow-sm border-0\" style={{ borderRadius: 18 }}>\n                <div className=\"d-flex justify-content-between align-items-center mb-2\">\n                  <div>\n                    <h5 className=\"mb-0\">CSV Preview</h5>\n                    <small className=\"text-muted\">\n                      Showing first 20 rows for verification.\n                    </small>\n                  </div>\n                  {preview.length > 0 && (\n                    <Badge bg=\"light\" text=\"secondary\" pill>\n                      {preview.length} row(s)\n                    </Badge>\n                  )}\n                </div>\n\n                {preview.length === 0 ? (\n                  <p className=\"text-muted mt-3 mb-0\">\n                    No preview available — upload a CSV to continue.\n                  </p>\n                ) : (\n                  <div className=\"table-responsive mt-2\">\n                    <Table size=\"sm\" responsive hover className=\"align-middle\">\n                      <thead>\n                        <tr>\n                          {headers.map((h) => (\n                            <th key={h} className=\"text-nowrap\">{h}</th>\n                          ))}\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {preview.map((row, i) => (\n                          <tr key={i}>\n                            {headers.map((h) => (\n                              <td key={h} className=\"text-nowrap\">{row[h]}</td>\n                            ))}\n                          </tr>\n                        ))}\n                      </tbody>\n                    </Table>\n                  </div>\n                )}\n              </Card>\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    </>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}