{"ast":null,"code":"var _jsxFileName = \"D:\\\\newDownload\\\\DeserveIQ\\\\frontend\\\\src\\\\pages\\\\Dashboard.jsx\",\n  _s = $RefreshSig$();\n// src/pages/Dashboard.jsx\nimport React, { useEffect, useState, useMemo } from 'react';\nimport TopNav from '../components/TopNav';\nimport { Container, Row, Col, Card, Badge, Spinner, OverlayTrigger, Tooltip, ProgressBar } from 'react-bootstrap';\nimport StatsCard from '../components/StatsCard';\nimport PredictionsTable from '../components/PredictionsTable';\nimport { getStudents, predictSingle } from '../services/api';\nimport { parseExplanation } from './PredictSingle';\n/**\n * Small pill for summary labels\n */\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Pill = ({\n  label,\n  value,\n  variant = 'secondary'\n}) => /*#__PURE__*/_jsxDEV(Badge, {\n  bg: variant,\n  pill: true,\n  className: \"me-2 mb-1\",\n  style: {\n    fontWeight: 500,\n    fontSize: '0.7rem'\n  },\n  children: [label, \": \", value]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 23,\n  columnNumber: 3\n}, this);\n\n/**\n * Simple horizontal bars instead of a heavy chart lib\n * Shows High / Medium / Low distribution with nice colours.\n */\n_c = Pill;\nconst RiskBars = ({\n  counts,\n  total\n}) => {\n  const {\n    HIGH = 0,\n    MEDIUM = 0,\n    LOW = 0\n  } = counts;\n  const safeTotal = total || HIGH + MEDIUM + LOW || 1;\n  const highPct = Math.round(HIGH / safeTotal * 100);\n  const medPct = Math.round(MEDIUM / safeTotal * 100);\n  const lowPct = Math.round(LOW / safeTotal * 100);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mt-2\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-2 small text-muted\",\n      children: \"Risk level distribution\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-between mb-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"small\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: '#dc3545',\n              fontWeight: 600\n            },\n            children: \"High\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"small text-muted\",\n          children: [highPct, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ProgressBar, {\n        now: highPct,\n        style: {\n          height: 8\n        },\n        variant: \"danger\",\n        className: \"rounded-pill\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-between mb-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"small\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: '#ffc107',\n              fontWeight: 600\n            },\n            children: \"Medium\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"small text-muted\",\n          children: [medPct, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ProgressBar, {\n        now: medPct,\n        style: {\n          height: 8\n        },\n        variant: \"warning\",\n        className: \"rounded-pill\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-between mb-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"small\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: '#28a745',\n              fontWeight: 600\n            },\n            children: \"Low\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"small text-muted\",\n          children: [lowPct, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ProgressBar, {\n        now: lowPct,\n        style: {\n          height: 8\n        },\n        variant: \"success\",\n        className: \"rounded-pill\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n\n/**\n * Pretty badge for risk level inside the table & cards\n */\n_c2 = RiskBars;\nconst RiskBadge = ({\n  tier\n}) => {\n  if (!tier) return /*#__PURE__*/_jsxDEV(Badge, {\n    bg: \"secondary\",\n    children: \"N/A\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 21\n  }, this);\n  const upper = String(tier).toUpperCase();\n  const map = {\n    HIGH: 'danger',\n    MEDIUM: 'warning',\n    LOW: 'success'\n  };\n  const variant = map[upper] || 'secondary';\n  return /*#__PURE__*/_jsxDEV(Badge, {\n    bg: variant,\n    pill: true,\n    style: {\n      fontWeight: 600\n    },\n    children: upper\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 5\n  }, this);\n};\n\n/**\n * Main Dashboard page\n */\n_c3 = RiskBadge;\nexport default function Dashboard() {\n  _s();\n  const [students, setStudents] = useState([]);\n  const [preds, setPreds] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [scoring, setScoring] = useState(false);\n\n  // helper: use the student object directly as payload (it already has snake_case fields)\n  const buildPayloadFromStudent = s => {\n    const {\n      id,\n      ...rest\n    } = s; // id not needed by model\n    return rest;\n  };\n\n  // Load students + score a subset\n  useEffect(() => {\n    const load = async () => {\n      try {\n        setLoading(true);\n        const data = await getStudents();\n        const arr = Array.isArray(data) ? data : [];\n        setStudents(arr);\n        if (arr.length === 0) {\n          setPreds([]);\n          return;\n        }\n        setScoring(true);\n\n        // score up to 40 students for the dashboard\n        const subset = arr.slice(0, 40);\n        const withPreds = await Promise.all(subset.map(async s => {\n          try {\n            const payload = buildPayloadFromStudent(s);\n            const p = await predictSingle(payload);\n            return {\n              ...s,\n              dropout_probability: Number(p.dropout_probability),\n              deservingness_score: Number(p.deservingness_score),\n              risk_tier: p.risk_tier,\n              explanation: parseExplanation(p.explanation) // ✅ add this\n            };\n          } catch {\n            return {\n              ...s,\n              dropout_probability: 0,\n              deservingness_score: 0,\n              risk_tier: 'LOW',\n              explanation: null // ✅ avoid undefined\n            };\n          }\n        }));\n        setPreds(withPreds);\n      } catch (e) {\n        console.error(e);\n        setStudents([]);\n        setPreds([]);\n      } finally {\n        setScoring(false);\n        setLoading(false);\n      }\n    };\n    load();\n  }, []);\n\n  // ---------- derived metrics ----------\n  const {\n    highCount,\n    medCount,\n    lowCount,\n    avgDeserving,\n    avgAttendance\n  } = useMemo(() => {\n    if (!preds.length) {\n      return {\n        highCount: 0,\n        medCount: 0,\n        lowCount: 0,\n        avgDeserving: 0,\n        avgAttendance: 0\n      };\n    }\n    const high = preds.filter(p => p.risk_tier === 'HIGH').length;\n    const med = preds.filter(p => p.risk_tier === 'MEDIUM').length;\n    const low = preds.filter(p => p.risk_tier === 'LOW').length;\n    const avgD = preds.reduce((sum, p) => sum + (Number(p.deservingness_score) || 0), 0) / preds.length;\n    const avgA = preds.reduce((sum, p) => sum + (Number(p.attendance_rate !== undefined ? p.attendance_rate : p.attendanceRate) || 0), 0) / preds.length;\n    return {\n      highCount: high,\n      medCount: med,\n      lowCount: low,\n      avgDeserving: Math.round(avgD || 0),\n      avgAttendance: Math.round(avgA || 0)\n    };\n  }, [preds]);\n  const chartCounts = {\n    HIGH: highCount,\n    MEDIUM: medCount,\n    LOW: lowCount\n  };\n\n  // sort by risk (high → low)\n  const topRisk = useMemo(() => {\n    if (!preds.length) return [];\n    return [...preds].sort((a, b) => Number(b.dropout_probability || 0) - Number(a.dropout_probability || 0)).slice(0, 15);\n  }, [preds]);\n  const headerGradient = 'linear-gradient(135deg, rgba(248,250,252,1) 0%, rgba(239,246,255,1) 40%, rgba(219,234,254,1) 100%)';\n  const pageBackground = 'linear-gradient(180deg, #eff6ff 0%, #ffffff 40%, #f9fafb 100%)';\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(TopNav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        minHeight: '100vh',\n        background: pageBackground,\n        fontFamily: '\"Inter\", system-ui, -apple-system, BlinkMacSystemFont'\n      },\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        fluid: true,\n        className: \"py-4\",\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          className: \"mb-3\",\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              className: \"border-0 shadow-sm\",\n              style: {\n                borderRadius: 18,\n                background: headerGradient\n              },\n              children: /*#__PURE__*/_jsxDEV(Card.Body, {\n                className: \"d-flex justify-content-between align-items-center flex-wrap\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-2 mb-md-0\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"mb-1\",\n                    style: {\n                      color: '#111827',\n                      fontWeight: 700\n                    },\n                    children: \"DeserveIQ Overview\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 280,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"text-muted\",\n                    children: \"Monitor dropout risk & deservingness scores across your uploaded students.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 286,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-end\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mb-1\",\n                    children: [/*#__PURE__*/_jsxDEV(Pill, {\n                      label: \"Students\",\n                      value: students.length,\n                      variant: \"primary\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 293,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Pill, {\n                      label: \"Scored\",\n                      value: preds.length,\n                      variant: \"info\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 298,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 292,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"text-muted\",\n                    children: [new Date().toLocaleDateString(), \" \\u2022 Auto-synced\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 304,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"mb-4 g-3\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 3,\n            sm: 6,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(StatsCard, {\n              title: \"Students\",\n              value: students.length,\n              subtitle: \"Total\",\n              variant: \"primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 3,\n            sm: 6,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(StatsCard, {\n              title: \"At-Risk\",\n              value: highCount,\n              subtitle: \"High\",\n              variant: \"danger\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 3,\n            sm: 6,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(StatsCard, {\n              title: \"Avg Deserving\",\n              value: avgDeserving,\n              subtitle: \"Score\",\n              variant: \"success\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 3,\n            sm: 6,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(StatsCard, {\n              title: \"Avg Attendance\",\n              value: avgAttendance,\n              subtitle: \"%\",\n              variant: \"info\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"g-4\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            lg: 4,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              className: \"h-100 shadow-sm border-0\",\n              style: {\n                borderRadius: 18\n              },\n              children: /*#__PURE__*/_jsxDEV(Card.Body, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex justify-content-between align-items-center mb-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                      className: \"mb-0\",\n                      children: \"Risk Distribution\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 360,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                      className: \"text-muted\",\n                      children: \"Across scored students\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 363,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 359,\n                    columnNumber: 21\n                  }, this), scoring ? /*#__PURE__*/_jsxDEV(Badge, {\n                    bg: \"info\",\n                    pill: true,\n                    children: \"Scoring\\u2026\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 368,\n                    columnNumber: 23\n                  }, this) : /*#__PURE__*/_jsxDEV(Badge, {\n                    bg: \"light\",\n                    text: \"secondary\",\n                    pill: true,\n                    children: [preds.length, \" scored\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 372,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 358,\n                  columnNumber: 19\n                }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center my-4\",\n                  children: [/*#__PURE__*/_jsxDEV(Spinner, {\n                    animation: \"border\",\n                    size: \"sm\",\n                    className: \"me-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 380,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-muted\",\n                    children: \"Loading data\\u2026\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 381,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 379,\n                  columnNumber: 21\n                }, this) : preds.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-muted mt-3\",\n                  children: [\"No predictions yet. Upload a CSV from\", ' ', /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Batch Upload\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 386,\n                    columnNumber: 23\n                  }, this), \" to see risk distribution.\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 384,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(RiskBars, {\n                    counts: chartCounts,\n                    total: preds.length\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 390,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 392,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"d-flex justify-content-between flex-wrap\",\n                    style: {\n                      rowGap: 8\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"small\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"me-1\",\n                        style: {\n                          color: '#dc3545',\n                          fontWeight: 600\n                        },\n                        children: \"\\u25CF High\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 399,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-muted\",\n                        children: [highCount, \" student(s)\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 405,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 398,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"small\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"me-1\",\n                        style: {\n                          color: '#ffc107',\n                          fontWeight: 600\n                        },\n                        children: \"\\u25CF Medium\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 410,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-muted\",\n                        children: [medCount, \" student(s)\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 416,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 409,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"small\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"me-1\",\n                        style: {\n                          color: '#28a745',\n                          fontWeight: 600\n                        },\n                        children: \"\\u25CF Low\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 421,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-muted\",\n                        children: [lowCount, \" student(s)\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 427,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 420,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 394,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            lg: 8,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              className: \"h-100 shadow-sm border-0\",\n              style: {\n                borderRadius: 18\n              },\n              children: /*#__PURE__*/_jsxDEV(Card.Body, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex justify-content-between align-items-center mb-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                      className: \"mb-0\",\n                      children: \"Top At-Risk Students\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 447,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                      className: \"text-muted\",\n                      children: \"Sorted by dropout probability (High \\u2192 Low)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 450,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 446,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(OverlayTrigger, {\n                    placement: \"left\",\n                    overlay: /*#__PURE__*/_jsxDEV(Tooltip, {\n                      id: \"dash-tip\",\n                      children: \"Dropout % and Deserving % come from your ML model using marks, attendance, income & support features.\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 457,\n                      columnNumber: 25\n                    }, this),\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"badge bg-light text-secondary\",\n                      style: {\n                        cursor: 'help'\n                      },\n                      children: \"?\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 463,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 454,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 445,\n                  columnNumber: 19\n                }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center my-4\",\n                  children: [/*#__PURE__*/_jsxDEV(Spinner, {\n                    animation: \"border\",\n                    size: \"sm\",\n                    className: \"me-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 474,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-muted\",\n                    children: \"Loading data\\u2026\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 475,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 473,\n                  columnNumber: 21\n                }, this) : topRisk.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-muted mt-3\",\n                  children: \"No risk data yet. Once you upload and score a batch, your highest-risk students will appear here.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 478,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-2\",\n                  children: /*#__PURE__*/_jsxDEV(PredictionsTable, {\n                    rows: topRisk.map(r => ({\n                      ...r,\n                      dropout_probability: (Number(r.dropout_probability || 0) * 100).toFixed(1),\n                      deservingness_score: Number(r.deservingness_score || 0).toFixed(2)\n                    }))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 485,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 483,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-3 small text-muted\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"me-3\",\n                    children: [/*#__PURE__*/_jsxDEV(RiskBadge, {\n                      tier: \"HIGH\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 502,\n                      columnNumber: 23\n                    }, this), \" needs urgent support\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 501,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"me-3\",\n                    children: [/*#__PURE__*/_jsxDEV(RiskBadge, {\n                      tier: \"MEDIUM\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 505,\n                      columnNumber: 23\n                    }, this), \" monitor closely\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 504,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [/*#__PURE__*/_jsxDEV(RiskBadge, {\n                      tier: \"LOW\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 508,\n                      columnNumber: 23\n                    }, this), \" stable, continue support\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 507,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 500,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(Dashboard, \"Po6XX5vK9sePnLpmiKP5M8Vc6uo=\");\n_c4 = Dashboard;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"Pill\");\n$RefreshReg$(_c2, \"RiskBars\");\n$RefreshReg$(_c3, \"RiskBadge\");\n$RefreshReg$(_c4, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","useMemo","TopNav","Container","Row","Col","Card","Badge","Spinner","OverlayTrigger","Tooltip","ProgressBar","StatsCard","PredictionsTable","getStudents","predictSingle","parseExplanation","jsxDEV","_jsxDEV","Fragment","_Fragment","Pill","label","value","variant","bg","pill","className","style","fontWeight","fontSize","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","RiskBars","counts","total","HIGH","MEDIUM","LOW","safeTotal","highPct","Math","round","medPct","lowPct","color","now","height","_c2","RiskBadge","tier","upper","String","toUpperCase","map","_c3","Dashboard","_s","students","setStudents","preds","setPreds","loading","setLoading","scoring","setScoring","buildPayloadFromStudent","s","id","rest","load","data","arr","Array","isArray","length","subset","slice","withPreds","Promise","all","payload","p","dropout_probability","Number","deservingness_score","risk_tier","explanation","e","console","error","highCount","medCount","lowCount","avgDeserving","avgAttendance","high","filter","med","low","avgD","reduce","sum","avgA","attendance_rate","undefined","attendanceRate","chartCounts","topRisk","sort","a","b","headerGradient","pageBackground","minHeight","background","fontFamily","fluid","borderRadius","Body","Date","toLocaleDateString","md","sm","xs","title","subtitle","lg","Title","text","animation","size","rowGap","placement","overlay","cursor","rows","r","toFixed","_c4","$RefreshReg$"],"sources":["D:/newDownload/DeserveIQ/frontend/src/pages/Dashboard.jsx"],"sourcesContent":["// src/pages/Dashboard.jsx\nimport React, { useEffect, useState, useMemo } from 'react';\nimport TopNav from '../components/TopNav';\nimport {\n  Container,\n  Row,\n  Col,\n  Card,\n  Badge,\n  Spinner,\n  OverlayTrigger,\n  Tooltip,\n  ProgressBar,\n} from 'react-bootstrap';\nimport StatsCard from '../components/StatsCard';\nimport PredictionsTable from '../components/PredictionsTable';\nimport { getStudents, predictSingle } from '../services/api';\nimport { parseExplanation } from './PredictSingle';\n/**\n * Small pill for summary labels\n */\nconst Pill = ({ label, value, variant = 'secondary' }) => (\n  <Badge\n    bg={variant}\n    pill\n    className=\"me-2 mb-1\"\n    style={{ fontWeight: 500, fontSize: '0.7rem' }}\n  >\n    {label}: {value}\n  </Badge>\n);\n\n/**\n * Simple horizontal bars instead of a heavy chart lib\n * Shows High / Medium / Low distribution with nice colours.\n */\nconst RiskBars = ({ counts, total }) => {\n  const { HIGH = 0, MEDIUM = 0, LOW = 0 } = counts;\n  const safeTotal = total || HIGH + MEDIUM + LOW || 1;\n\n  const highPct = Math.round((HIGH / safeTotal) * 100);\n  const medPct = Math.round((MEDIUM / safeTotal) * 100);\n  const lowPct = Math.round((LOW / safeTotal) * 100);\n\n  return (\n    <div className=\"mt-2\">\n      <div className=\"mb-2 small text-muted\">Risk level distribution</div>\n      <div className=\"mb-2\">\n        <div className=\"d-flex justify-content-between mb-1\">\n          <span className=\"small\">\n            <span style={{ color: '#dc3545', fontWeight: 600 }}>High</span>\n          </span>\n          <span className=\"small text-muted\">{highPct}%</span>\n        </div>\n        <ProgressBar\n          now={highPct}\n          style={{ height: 8 }}\n          variant=\"danger\"\n          className=\"rounded-pill\"\n        />\n      </div>\n\n      <div className=\"mb-2\">\n        <div className=\"d-flex justify-content-between mb-1\">\n          <span className=\"small\">\n            <span style={{ color: '#ffc107', fontWeight: 600 }}>Medium</span>\n          </span>\n          <span className=\"small text-muted\">{medPct}%</span>\n        </div>\n        <ProgressBar\n          now={medPct}\n          style={{ height: 8 }}\n          variant=\"warning\"\n          className=\"rounded-pill\"\n        />\n      </div>\n\n      <div>\n        <div className=\"d-flex justify-content-between mb-1\">\n          <span className=\"small\">\n            <span style={{ color: '#28a745', fontWeight: 600 }}>Low</span>\n          </span>\n          <span className=\"small text-muted\">{lowPct}%</span>\n        </div>\n        <ProgressBar\n          now={lowPct}\n          style={{ height: 8 }}\n          variant=\"success\"\n          className=\"rounded-pill\"\n        />\n      </div>\n    </div>\n  );\n};\n\n/**\n * Pretty badge for risk level inside the table & cards\n */\nconst RiskBadge = ({ tier }) => {\n  if (!tier) return <Badge bg=\"secondary\">N/A</Badge>;\n  const upper = String(tier).toUpperCase();\n  const map = {\n    HIGH: 'danger',\n    MEDIUM: 'warning',\n    LOW: 'success',\n  };\n  const variant = map[upper] || 'secondary';\n  return (\n    <Badge bg={variant} pill style={{ fontWeight: 600 }}>\n      {upper}\n    </Badge>\n  );\n};\n\n/**\n * Main Dashboard page\n */\nexport default function Dashboard() {\n  const [students, setStudents] = useState([]);\n  const [preds, setPreds] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [scoring, setScoring] = useState(false);\n\n  // helper: use the student object directly as payload (it already has snake_case fields)\n  const buildPayloadFromStudent = (s) => {\n    const { id, ...rest } = s; // id not needed by model\n    return rest;\n  };\n\n  // Load students + score a subset\n  useEffect(() => {\n    const load = async () => {\n      try {\n        setLoading(true);\n        const data = await getStudents();\n        const arr = Array.isArray(data) ? data : [];\n        setStudents(arr);\n\n        if (arr.length === 0) {\n          setPreds([]);\n          return;\n        }\n\n        setScoring(true);\n\n        // score up to 40 students for the dashboard\n        const subset = arr.slice(0, 40);\n\nconst withPreds = await Promise.all(\n  subset.map(async (s) => {\n    try {\n      const payload = buildPayloadFromStudent(s);\n      const p = await predictSingle(payload);\n\n      return {\n        ...s,\n        dropout_probability: Number(p.dropout_probability),\n        deservingness_score: Number(p.deservingness_score),\n        risk_tier: p.risk_tier,\n        explanation: parseExplanation(p.explanation), // ✅ add this\n      };\n    } catch {\n      return {\n        ...s,\n        dropout_probability: 0,\n        deservingness_score: 0,\n        risk_tier: 'LOW',\n        explanation: null, // ✅ avoid undefined\n      };\n    }\n  })\n);\n\n\n        setPreds(withPreds);\n      } catch (e) {\n        console.error(e);\n        setStudents([]);\n        setPreds([]);\n      } finally {\n        setScoring(false);\n        setLoading(false);\n      }\n    };\n\n    load();\n  }, []);\n\n  // ---------- derived metrics ----------\n  const { highCount, medCount, lowCount, avgDeserving, avgAttendance } =\n    useMemo(() => {\n      if (!preds.length) {\n        return {\n          highCount: 0,\n          medCount: 0,\n          lowCount: 0,\n          avgDeserving: 0,\n          avgAttendance: 0,\n        };\n      }\n\n      const high = preds.filter((p) => p.risk_tier === 'HIGH').length;\n      const med = preds.filter((p) => p.risk_tier === 'MEDIUM').length;\n      const low = preds.filter((p) => p.risk_tier === 'LOW').length;\n\n      const avgD =\n        preds.reduce(\n          (sum, p) => sum + (Number(p.deservingness_score) || 0),\n          0\n        ) / preds.length;\n\n      const avgA =\n        preds.reduce(\n          (sum, p) =>\n            sum +\n            (Number(\n              p.attendance_rate !== undefined\n                ? p.attendance_rate\n                : p.attendanceRate\n            ) || 0),\n          0\n        ) / preds.length;\n\n      return {\n        highCount: high,\n        medCount: med,\n        lowCount: low,\n        avgDeserving: Math.round(avgD || 0),\n        avgAttendance: Math.round(avgA || 0),\n      };\n    }, [preds]);\n\n  const chartCounts = {\n    HIGH: highCount,\n    MEDIUM: medCount,\n    LOW: lowCount,\n  };\n\n  // sort by risk (high → low)\n  const topRisk = useMemo(() => {\n    if (!preds.length) return [];\n    return [...preds]\n      .sort(\n        (a, b) =>\n          Number(b.dropout_probability || 0) -\n          Number(a.dropout_probability || 0)\n      )\n      .slice(0, 15);\n  }, [preds]);\n\n  const headerGradient =\n    'linear-gradient(135deg, rgba(248,250,252,1) 0%, rgba(239,246,255,1) 40%, rgba(219,234,254,1) 100%)';\n\n  const pageBackground =\n    'linear-gradient(180deg, #eff6ff 0%, #ffffff 40%, #f9fafb 100%)';\n\n  return (\n    <>\n      <TopNav />\n      <div\n        style={{\n          minHeight: '100vh',\n          background: pageBackground,\n          fontFamily: '\"Inter\", system-ui, -apple-system, BlinkMacSystemFont',\n        }}\n      >\n        <Container fluid className=\"py-4\">\n          {/* HEADER STRIP */}\n          <Row className=\"mb-3\">\n            <Col>\n              <Card\n                className=\"border-0 shadow-sm\"\n                style={{\n                  borderRadius: 18,\n                  background: headerGradient,\n                }}\n              >\n                <Card.Body className=\"d-flex justify-content-between align-items-center flex-wrap\">\n                  <div className=\"mb-2 mb-md-0\">\n                    <h3\n                      className=\"mb-1\"\n                      style={{ color: '#111827', fontWeight: 700 }}\n                    >\n                      DeserveIQ Overview\n                    </h3>\n                    <small className=\"text-muted\">\n                      Monitor dropout risk & deservingness scores across your\n                      uploaded students.\n                    </small>\n                  </div>\n                  <div className=\"text-end\">\n                    <div className=\"mb-1\">\n                      <Pill\n                        label=\"Students\"\n                        value={students.length}\n                        variant=\"primary\"\n                      />\n                      <Pill\n                        label=\"Scored\"\n                        value={preds.length}\n                        variant=\"info\"\n                      />\n                    </div>\n                    <small className=\"text-muted\">\n                      {new Date().toLocaleDateString()} • Auto-synced\n                    </small>\n                  </div>\n                </Card.Body>\n              </Card>\n            </Col>\n          </Row>\n\n          {/* METRIC CARDS */}\n          <Row className=\"mb-4 g-3\">\n            <Col md={3} sm={6} xs={12}>\n              <StatsCard\n                title=\"Students\"\n                value={students.length}\n                subtitle=\"Total\"\n                variant=\"primary\"\n              />\n            </Col>\n            <Col md={3} sm={6} xs={12}>\n              <StatsCard\n                title=\"At-Risk\"\n                value={highCount}\n                subtitle=\"High\"\n                variant=\"danger\"\n              />\n            </Col>\n            <Col md={3} sm={6} xs={12}>\n              <StatsCard\n                title=\"Avg Deserving\"\n                value={avgDeserving}\n                subtitle=\"Score\"\n                variant=\"success\"\n              />\n            </Col>\n            <Col md={3} sm={6} xs={12}>\n              <StatsCard\n                title=\"Avg Attendance\"\n                value={avgAttendance}\n                subtitle=\"%\"\n                variant=\"info\"\n              />\n            </Col>\n          </Row>\n\n          {/* MAIN CONTENT */}\n          <Row className=\"g-4\">\n            {/* LEFT: Risk Distribution */}\n            <Col lg={4}>\n              <Card\n                className=\"h-100 shadow-sm border-0\"\n                style={{ borderRadius: 18 }}\n              >\n                <Card.Body>\n                  <div className=\"d-flex justify-content-between align-items-center mb-2\">\n                    <div>\n                      <Card.Title className=\"mb-0\">\n                        Risk Distribution\n                      </Card.Title>\n                      <small className=\"text-muted\">\n                        Across scored students\n                      </small>\n                    </div>\n                    {scoring ? (\n                      <Badge bg=\"info\" pill>\n                        Scoring…\n                      </Badge>\n                    ) : (\n                      <Badge bg=\"light\" text=\"secondary\" pill>\n                        {preds.length} scored\n                      </Badge>\n                    )}\n                  </div>\n\n                  {loading ? (\n                    <div className=\"text-center my-4\">\n                      <Spinner animation=\"border\" size=\"sm\" className=\"me-2\" />\n                      <span className=\"text-muted\">Loading data…</span>\n                    </div>\n                  ) : preds.length === 0 ? (\n                    <p className=\"text-muted mt-3\">\n                      No predictions yet. Upload a CSV from{' '}\n                      <strong>Batch Upload</strong> to see risk distribution.\n                    </p>\n                  ) : (\n                    <>\n                      <RiskBars counts={chartCounts} total={preds.length} />\n\n                      <hr />\n\n                      <div\n                        className=\"d-flex justify-content-between flex-wrap\"\n                        style={{ rowGap: 8 }}\n                      >\n                        <div className=\"small\">\n                          <span\n                            className=\"me-1\"\n                            style={{ color: '#dc3545', fontWeight: 600 }}\n                          >\n                            ● High\n                          </span>\n                          <span className=\"text-muted\">\n                            {highCount} student(s)\n                          </span>\n                        </div>\n                        <div className=\"small\">\n                          <span\n                            className=\"me-1\"\n                            style={{ color: '#ffc107', fontWeight: 600 }}\n                          >\n                            ● Medium\n                          </span>\n                          <span className=\"text-muted\">\n                            {medCount} student(s)\n                          </span>\n                        </div>\n                        <div className=\"small\">\n                          <span\n                            className=\"me-1\"\n                            style={{ color: '#28a745', fontWeight: 600 }}\n                          >\n                            ● Low\n                          </span>\n                          <span className=\"text-muted\">\n                            {lowCount} student(s)\n                          </span>\n                        </div>\n                      </div>\n                    </>\n                  )}\n                </Card.Body>\n              </Card>\n            </Col>\n\n            {/* RIGHT: Top At-Risk Students */}\n            <Col lg={8}>\n              <Card\n                className=\"h-100 shadow-sm border-0\"\n                style={{ borderRadius: 18 }}\n              >\n                <Card.Body>\n                  <div className=\"d-flex justify-content-between align-items-center mb-2\">\n                    <div>\n                      <Card.Title className=\"mb-0\">\n                        Top At-Risk Students\n                      </Card.Title>\n                      <small className=\"text-muted\">\n                        Sorted by dropout probability (High → Low)\n                      </small>\n                    </div>\n                    <OverlayTrigger\n                      placement=\"left\"\n                      overlay={\n                        <Tooltip id=\"dash-tip\">\n                          Dropout % and Deserving % come from your ML model\n                          using marks, attendance, income & support features.\n                        </Tooltip>\n                      }\n                    >\n                      <span\n                        className=\"badge bg-light text-secondary\"\n                        style={{ cursor: 'help' }}\n                      >\n                        ?\n                      </span>\n                    </OverlayTrigger>\n                  </div>\n\n                  {loading ? (\n                    <div className=\"text-center my-4\">\n                      <Spinner animation=\"border\" size=\"sm\" className=\"me-2\" />\n                      <span className=\"text-muted\">Loading data…</span>\n                    </div>\n                  ) : topRisk.length === 0 ? (\n                    <p className=\"text-muted mt-3\">\n                      No risk data yet. Once you upload and score a batch, your\n                      highest-risk students will appear here.\n                    </p>\n                  ) : (\n                    <div className=\"mt-2\">\n                      {/* we reuse PredictionsTable but rows already include risk + scores */}\n                      <PredictionsTable\n                        rows={topRisk.map((r) => ({\n                          ...r,\n                          dropout_probability: (\n                            Number(r.dropout_probability || 0) * 100\n                          ).toFixed(1),\n                          deservingness_score: Number(\n                            r.deservingness_score || 0\n                          ).toFixed(2),\n                        }))}\n                      />\n                    </div>\n                  )}\n\n                  {/* quick legend below table */}\n                  <div className=\"mt-3 small text-muted\">\n                    <span className=\"me-3\">\n                      <RiskBadge tier=\"HIGH\" /> needs urgent support\n                    </span>\n                    <span className=\"me-3\">\n                      <RiskBadge tier=\"MEDIUM\" /> monitor closely\n                    </span>\n                    <span>\n                      <RiskBadge tier=\"LOW\" /> stable, continue support\n                    </span>\n                  </div>\n                </Card.Body>\n              </Card>\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    </>\n  );\n}\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,EAAEC,OAAO,QAAQ,OAAO;AAC3D,OAAOC,MAAM,MAAM,sBAAsB;AACzC,SACEC,SAAS,EACTC,GAAG,EACHC,GAAG,EACHC,IAAI,EACJC,KAAK,EACLC,OAAO,EACPC,cAAc,EACdC,OAAO,EACPC,WAAW,QACN,iBAAiB;AACxB,OAAOC,SAAS,MAAM,yBAAyB;AAC/C,OAAOC,gBAAgB,MAAM,gCAAgC;AAC7D,SAASC,WAAW,EAAEC,aAAa,QAAQ,iBAAiB;AAC5D,SAASC,gBAAgB,QAAQ,iBAAiB;AAClD;AACA;AACA;AAFA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAGA,MAAMC,IAAI,GAAGA,CAAC;EAAEC,KAAK;EAAEC,KAAK;EAAEC,OAAO,GAAG;AAAY,CAAC,kBACnDN,OAAA,CAACX,KAAK;EACJkB,EAAE,EAAED,OAAQ;EACZE,IAAI;EACJC,SAAS,EAAC,WAAW;EACrBC,KAAK,EAAE;IAAEC,UAAU,EAAE,GAAG;IAAEC,QAAQ,EAAE;EAAS,CAAE;EAAAC,QAAA,GAE9CT,KAAK,EAAC,IAAE,EAACC,KAAK;AAAA;EAAAS,QAAA,EAAAC,YAAA;EAAAC,UAAA;EAAAC,YAAA;AAAA,OACV,CACR;;AAED;AACA;AACA;AACA;AAHAC,EAAA,GAXMf,IAAI;AAeV,MAAMgB,QAAQ,GAAGA,CAAC;EAAEC,MAAM;EAAEC;AAAM,CAAC,KAAK;EACtC,MAAM;IAAEC,IAAI,GAAG,CAAC;IAAEC,MAAM,GAAG,CAAC;IAAEC,GAAG,GAAG;EAAE,CAAC,GAAGJ,MAAM;EAChD,MAAMK,SAAS,GAAGJ,KAAK,IAAIC,IAAI,GAAGC,MAAM,GAAGC,GAAG,IAAI,CAAC;EAEnD,MAAME,OAAO,GAAGC,IAAI,CAACC,KAAK,CAAEN,IAAI,GAAGG,SAAS,GAAI,GAAG,CAAC;EACpD,MAAMI,MAAM,GAAGF,IAAI,CAACC,KAAK,CAAEL,MAAM,GAAGE,SAAS,GAAI,GAAG,CAAC;EACrD,MAAMK,MAAM,GAAGH,IAAI,CAACC,KAAK,CAAEJ,GAAG,GAAGC,SAAS,GAAI,GAAG,CAAC;EAElD,oBACEzB,OAAA;IAAKS,SAAS,EAAC,MAAM;IAAAI,QAAA,gBACnBb,OAAA;MAAKS,SAAS,EAAC,uBAAuB;MAAAI,QAAA,EAAC;IAAuB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eACpEjB,OAAA;MAAKS,SAAS,EAAC,MAAM;MAAAI,QAAA,gBACnBb,OAAA;QAAKS,SAAS,EAAC,qCAAqC;QAAAI,QAAA,gBAClDb,OAAA;UAAMS,SAAS,EAAC,OAAO;UAAAI,QAAA,eACrBb,OAAA;YAAMU,KAAK,EAAE;cAAEqB,KAAK,EAAE,SAAS;cAAEpB,UAAU,EAAE;YAAI,CAAE;YAAAE,QAAA,EAAC;UAAI;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3D,CAAC,eACPjB,OAAA;UAAMS,SAAS,EAAC,kBAAkB;UAAAI,QAAA,GAAEa,OAAO,EAAC,GAAC;QAAA;UAAAZ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjD,CAAC,eACNjB,OAAA,CAACP,WAAW;QACVuC,GAAG,EAAEN,OAAQ;QACbhB,KAAK,EAAE;UAAEuB,MAAM,EAAE;QAAE,CAAE;QACrB3B,OAAO,EAAC,QAAQ;QAChBG,SAAS,EAAC;MAAc;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzB,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eAENjB,OAAA;MAAKS,SAAS,EAAC,MAAM;MAAAI,QAAA,gBACnBb,OAAA;QAAKS,SAAS,EAAC,qCAAqC;QAAAI,QAAA,gBAClDb,OAAA;UAAMS,SAAS,EAAC,OAAO;UAAAI,QAAA,eACrBb,OAAA;YAAMU,KAAK,EAAE;cAAEqB,KAAK,EAAE,SAAS;cAAEpB,UAAU,EAAE;YAAI,CAAE;YAAAE,QAAA,EAAC;UAAM;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7D,CAAC,eACPjB,OAAA;UAAMS,SAAS,EAAC,kBAAkB;UAAAI,QAAA,GAAEgB,MAAM,EAAC,GAAC;QAAA;UAAAf,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChD,CAAC,eACNjB,OAAA,CAACP,WAAW;QACVuC,GAAG,EAAEH,MAAO;QACZnB,KAAK,EAAE;UAAEuB,MAAM,EAAE;QAAE,CAAE;QACrB3B,OAAO,EAAC,SAAS;QACjBG,SAAS,EAAC;MAAc;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzB,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eAENjB,OAAA;MAAAa,QAAA,gBACEb,OAAA;QAAKS,SAAS,EAAC,qCAAqC;QAAAI,QAAA,gBAClDb,OAAA;UAAMS,SAAS,EAAC,OAAO;UAAAI,QAAA,eACrBb,OAAA;YAAMU,KAAK,EAAE;cAAEqB,KAAK,EAAE,SAAS;cAAEpB,UAAU,EAAE;YAAI,CAAE;YAAAE,QAAA,EAAC;UAAG;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1D,CAAC,eACPjB,OAAA;UAAMS,SAAS,EAAC,kBAAkB;UAAAI,QAAA,GAAEiB,MAAM,EAAC,GAAC;QAAA;UAAAhB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChD,CAAC,eACNjB,OAAA,CAACP,WAAW;QACVuC,GAAG,EAAEF,MAAO;QACZpB,KAAK,EAAE;UAAEuB,MAAM,EAAE;QAAE,CAAE;QACrB3B,OAAO,EAAC,SAAS;QACjBG,SAAS,EAAC;MAAc;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzB,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;;AAED;AACA;AACA;AAFAiB,GAAA,GA3DMf,QAAQ;AA8Dd,MAAMgB,SAAS,GAAGA,CAAC;EAAEC;AAAK,CAAC,KAAK;EAC9B,IAAI,CAACA,IAAI,EAAE,oBAAOpC,OAAA,CAACX,KAAK;IAACkB,EAAE,EAAC,WAAW;IAAAM,QAAA,EAAC;EAAG;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAO,CAAC;EACnD,MAAMoB,KAAK,GAAGC,MAAM,CAACF,IAAI,CAAC,CAACG,WAAW,CAAC,CAAC;EACxC,MAAMC,GAAG,GAAG;IACVlB,IAAI,EAAE,QAAQ;IACdC,MAAM,EAAE,SAAS;IACjBC,GAAG,EAAE;EACP,CAAC;EACD,MAAMlB,OAAO,GAAGkC,GAAG,CAACH,KAAK,CAAC,IAAI,WAAW;EACzC,oBACErC,OAAA,CAACX,KAAK;IAACkB,EAAE,EAAED,OAAQ;IAACE,IAAI;IAACE,KAAK,EAAE;MAAEC,UAAU,EAAE;IAAI,CAAE;IAAAE,QAAA,EACjDwB;EAAK;IAAAvB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACD,CAAC;AAEZ,CAAC;;AAED;AACA;AACA;AAFAwB,GAAA,GAhBMN,SAAS;AAmBf,eAAe,SAASO,SAASA,CAAA,EAAG;EAAAC,EAAA;EAClC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAG/D,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACgE,KAAK,EAAEC,QAAQ,CAAC,GAAGjE,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACkE,OAAO,EAAEC,UAAU,CAAC,GAAGnE,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACoE,OAAO,EAAEC,UAAU,CAAC,GAAGrE,QAAQ,CAAC,KAAK,CAAC;;EAE7C;EACA,MAAMsE,uBAAuB,GAAIC,CAAC,IAAK;IACrC,MAAM;MAAEC,EAAE;MAAE,GAAGC;IAAK,CAAC,GAAGF,CAAC,CAAC,CAAC;IAC3B,OAAOE,IAAI;EACb,CAAC;;EAED;EACA1E,SAAS,CAAC,MAAM;IACd,MAAM2E,IAAI,GAAG,MAAAA,CAAA,KAAY;MACvB,IAAI;QACFP,UAAU,CAAC,IAAI,CAAC;QAChB,MAAMQ,IAAI,GAAG,MAAM7D,WAAW,CAAC,CAAC;QAChC,MAAM8D,GAAG,GAAGC,KAAK,CAACC,OAAO,CAACH,IAAI,CAAC,GAAGA,IAAI,GAAG,EAAE;QAC3CZ,WAAW,CAACa,GAAG,CAAC;QAEhB,IAAIA,GAAG,CAACG,MAAM,KAAK,CAAC,EAAE;UACpBd,QAAQ,CAAC,EAAE,CAAC;UACZ;QACF;QAEAI,UAAU,CAAC,IAAI,CAAC;;QAEhB;QACA,MAAMW,MAAM,GAAGJ,GAAG,CAACK,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC;QAEvC,MAAMC,SAAS,GAAG,MAAMC,OAAO,CAACC,GAAG,CACjCJ,MAAM,CAACtB,GAAG,CAAC,MAAOa,CAAC,IAAK;UACtB,IAAI;YACF,MAAMc,OAAO,GAAGf,uBAAuB,CAACC,CAAC,CAAC;YAC1C,MAAMe,CAAC,GAAG,MAAMvE,aAAa,CAACsE,OAAO,CAAC;YAEtC,OAAO;cACL,GAAGd,CAAC;cACJgB,mBAAmB,EAAEC,MAAM,CAACF,CAAC,CAACC,mBAAmB,CAAC;cAClDE,mBAAmB,EAAED,MAAM,CAACF,CAAC,CAACG,mBAAmB,CAAC;cAClDC,SAAS,EAAEJ,CAAC,CAACI,SAAS;cACtBC,WAAW,EAAE3E,gBAAgB,CAACsE,CAAC,CAACK,WAAW,CAAC,CAAE;YAChD,CAAC;UACH,CAAC,CAAC,MAAM;YACN,OAAO;cACL,GAAGpB,CAAC;cACJgB,mBAAmB,EAAE,CAAC;cACtBE,mBAAmB,EAAE,CAAC;cACtBC,SAAS,EAAE,KAAK;cAChBC,WAAW,EAAE,IAAI,CAAE;YACrB,CAAC;UACH;QACF,CAAC,CACH,CAAC;QAGO1B,QAAQ,CAACiB,SAAS,CAAC;MACrB,CAAC,CAAC,OAAOU,CAAC,EAAE;QACVC,OAAO,CAACC,KAAK,CAACF,CAAC,CAAC;QAChB7B,WAAW,CAAC,EAAE,CAAC;QACfE,QAAQ,CAAC,EAAE,CAAC;MACd,CAAC,SAAS;QACRI,UAAU,CAAC,KAAK,CAAC;QACjBF,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAEDO,IAAI,CAAC,CAAC;EACR,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAM;IAAEqB,SAAS;IAAEC,QAAQ;IAAEC,QAAQ;IAAEC,YAAY;IAAEC;EAAc,CAAC,GAClElG,OAAO,CAAC,MAAM;IACZ,IAAI,CAAC+D,KAAK,CAACe,MAAM,EAAE;MACjB,OAAO;QACLgB,SAAS,EAAE,CAAC;QACZC,QAAQ,EAAE,CAAC;QACXC,QAAQ,EAAE,CAAC;QACXC,YAAY,EAAE,CAAC;QACfC,aAAa,EAAE;MACjB,CAAC;IACH;IAEA,MAAMC,IAAI,GAAGpC,KAAK,CAACqC,MAAM,CAAEf,CAAC,IAAKA,CAAC,CAACI,SAAS,KAAK,MAAM,CAAC,CAACX,MAAM;IAC/D,MAAMuB,GAAG,GAAGtC,KAAK,CAACqC,MAAM,CAAEf,CAAC,IAAKA,CAAC,CAACI,SAAS,KAAK,QAAQ,CAAC,CAACX,MAAM;IAChE,MAAMwB,GAAG,GAAGvC,KAAK,CAACqC,MAAM,CAAEf,CAAC,IAAKA,CAAC,CAACI,SAAS,KAAK,KAAK,CAAC,CAACX,MAAM;IAE7D,MAAMyB,IAAI,GACRxC,KAAK,CAACyC,MAAM,CACV,CAACC,GAAG,EAAEpB,CAAC,KAAKoB,GAAG,IAAIlB,MAAM,CAACF,CAAC,CAACG,mBAAmB,CAAC,IAAI,CAAC,CAAC,EACtD,CACF,CAAC,GAAGzB,KAAK,CAACe,MAAM;IAElB,MAAM4B,IAAI,GACR3C,KAAK,CAACyC,MAAM,CACV,CAACC,GAAG,EAAEpB,CAAC,KACLoB,GAAG,IACFlB,MAAM,CACLF,CAAC,CAACsB,eAAe,KAAKC,SAAS,GAC3BvB,CAAC,CAACsB,eAAe,GACjBtB,CAAC,CAACwB,cACR,CAAC,IAAI,CAAC,CAAC,EACT,CACF,CAAC,GAAG9C,KAAK,CAACe,MAAM;IAElB,OAAO;MACLgB,SAAS,EAAEK,IAAI;MACfJ,QAAQ,EAAEM,GAAG;MACbL,QAAQ,EAAEM,GAAG;MACbL,YAAY,EAAErD,IAAI,CAACC,KAAK,CAAC0D,IAAI,IAAI,CAAC,CAAC;MACnCL,aAAa,EAAEtD,IAAI,CAACC,KAAK,CAAC6D,IAAI,IAAI,CAAC;IACrC,CAAC;EACH,CAAC,EAAE,CAAC3C,KAAK,CAAC,CAAC;EAEb,MAAM+C,WAAW,GAAG;IAClBvE,IAAI,EAAEuD,SAAS;IACftD,MAAM,EAAEuD,QAAQ;IAChBtD,GAAG,EAAEuD;EACP,CAAC;;EAED;EACA,MAAMe,OAAO,GAAG/G,OAAO,CAAC,MAAM;IAC5B,IAAI,CAAC+D,KAAK,CAACe,MAAM,EAAE,OAAO,EAAE;IAC5B,OAAO,CAAC,GAAGf,KAAK,CAAC,CACdiD,IAAI,CACH,CAACC,CAAC,EAAEC,CAAC,KACH3B,MAAM,CAAC2B,CAAC,CAAC5B,mBAAmB,IAAI,CAAC,CAAC,GAClCC,MAAM,CAAC0B,CAAC,CAAC3B,mBAAmB,IAAI,CAAC,CACrC,CAAC,CACAN,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC;EACjB,CAAC,EAAE,CAACjB,KAAK,CAAC,CAAC;EAEX,MAAMoD,cAAc,GAClB,oGAAoG;EAEtG,MAAMC,cAAc,GAClB,gEAAgE;EAElE,oBACEnG,OAAA,CAAAE,SAAA;IAAAW,QAAA,gBACEb,OAAA,CAAChB,MAAM;MAAA8B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACVjB,OAAA;MACEU,KAAK,EAAE;QACL0F,SAAS,EAAE,OAAO;QAClBC,UAAU,EAAEF,cAAc;QAC1BG,UAAU,EAAE;MACd,CAAE;MAAAzF,QAAA,eAEFb,OAAA,CAACf,SAAS;QAACsH,KAAK;QAAC9F,SAAS,EAAC,MAAM;QAAAI,QAAA,gBAE/Bb,OAAA,CAACd,GAAG;UAACuB,SAAS,EAAC,MAAM;UAAAI,QAAA,eACnBb,OAAA,CAACb,GAAG;YAAA0B,QAAA,eACFb,OAAA,CAACZ,IAAI;cACHqB,SAAS,EAAC,oBAAoB;cAC9BC,KAAK,EAAE;gBACL8F,YAAY,EAAE,EAAE;gBAChBH,UAAU,EAAEH;cACd,CAAE;cAAArF,QAAA,eAEFb,OAAA,CAACZ,IAAI,CAACqH,IAAI;gBAAChG,SAAS,EAAC,6DAA6D;gBAAAI,QAAA,gBAChFb,OAAA;kBAAKS,SAAS,EAAC,cAAc;kBAAAI,QAAA,gBAC3Bb,OAAA;oBACES,SAAS,EAAC,MAAM;oBAChBC,KAAK,EAAE;sBAAEqB,KAAK,EAAE,SAAS;sBAAEpB,UAAU,EAAE;oBAAI,CAAE;oBAAAE,QAAA,EAC9C;kBAED;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eACLjB,OAAA;oBAAOS,SAAS,EAAC,YAAY;oBAAAI,QAAA,EAAC;kBAG9B;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACL,CAAC,eACNjB,OAAA;kBAAKS,SAAS,EAAC,UAAU;kBAAAI,QAAA,gBACvBb,OAAA;oBAAKS,SAAS,EAAC,MAAM;oBAAAI,QAAA,gBACnBb,OAAA,CAACG,IAAI;sBACHC,KAAK,EAAC,UAAU;sBAChBC,KAAK,EAAEuC,QAAQ,CAACiB,MAAO;sBACvBvD,OAAO,EAAC;oBAAS;sBAAAQ,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAClB,CAAC,eACFjB,OAAA,CAACG,IAAI;sBACHC,KAAK,EAAC,QAAQ;sBACdC,KAAK,EAAEyC,KAAK,CAACe,MAAO;sBACpBvD,OAAO,EAAC;oBAAM;sBAAAQ,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACf,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACC,CAAC,eACNjB,OAAA;oBAAOS,SAAS,EAAC,YAAY;oBAAAI,QAAA,GAC1B,IAAI6F,IAAI,CAAC,CAAC,CAACC,kBAAkB,CAAC,CAAC,EAAC,qBACnC;kBAAA;oBAAA7F,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACL,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACG;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACR;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACJ;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGNjB,OAAA,CAACd,GAAG;UAACuB,SAAS,EAAC,UAAU;UAAAI,QAAA,gBACvBb,OAAA,CAACb,GAAG;YAACyH,EAAE,EAAE,CAAE;YAACC,EAAE,EAAE,CAAE;YAACC,EAAE,EAAE,EAAG;YAAAjG,QAAA,eACxBb,OAAA,CAACN,SAAS;cACRqH,KAAK,EAAC,UAAU;cAChB1G,KAAK,EAAEuC,QAAQ,CAACiB,MAAO;cACvBmD,QAAQ,EAAC,OAAO;cAChB1G,OAAO,EAAC;YAAS;cAAAQ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAClB;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eACNjB,OAAA,CAACb,GAAG;YAACyH,EAAE,EAAE,CAAE;YAACC,EAAE,EAAE,CAAE;YAACC,EAAE,EAAE,EAAG;YAAAjG,QAAA,eACxBb,OAAA,CAACN,SAAS;cACRqH,KAAK,EAAC,SAAS;cACf1G,KAAK,EAAEwE,SAAU;cACjBmC,QAAQ,EAAC,MAAM;cACf1G,OAAO,EAAC;YAAQ;cAAAQ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACjB;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eACNjB,OAAA,CAACb,GAAG;YAACyH,EAAE,EAAE,CAAE;YAACC,EAAE,EAAE,CAAE;YAACC,EAAE,EAAE,EAAG;YAAAjG,QAAA,eACxBb,OAAA,CAACN,SAAS;cACRqH,KAAK,EAAC,eAAe;cACrB1G,KAAK,EAAE2E,YAAa;cACpBgC,QAAQ,EAAC,OAAO;cAChB1G,OAAO,EAAC;YAAS;cAAAQ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAClB;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eACNjB,OAAA,CAACb,GAAG;YAACyH,EAAE,EAAE,CAAE;YAACC,EAAE,EAAE,CAAE;YAACC,EAAE,EAAE,EAAG;YAAAjG,QAAA,eACxBb,OAAA,CAACN,SAAS;cACRqH,KAAK,EAAC,gBAAgB;cACtB1G,KAAK,EAAE4E,aAAc;cACrB+B,QAAQ,EAAC,GAAG;cACZ1G,OAAO,EAAC;YAAM;cAAAQ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACf;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGNjB,OAAA,CAACd,GAAG;UAACuB,SAAS,EAAC,KAAK;UAAAI,QAAA,gBAElBb,OAAA,CAACb,GAAG;YAAC8H,EAAE,EAAE,CAAE;YAAApG,QAAA,eACTb,OAAA,CAACZ,IAAI;cACHqB,SAAS,EAAC,0BAA0B;cACpCC,KAAK,EAAE;gBAAE8F,YAAY,EAAE;cAAG,CAAE;cAAA3F,QAAA,eAE5Bb,OAAA,CAACZ,IAAI,CAACqH,IAAI;gBAAA5F,QAAA,gBACRb,OAAA;kBAAKS,SAAS,EAAC,wDAAwD;kBAAAI,QAAA,gBACrEb,OAAA;oBAAAa,QAAA,gBACEb,OAAA,CAACZ,IAAI,CAAC8H,KAAK;sBAACzG,SAAS,EAAC,MAAM;sBAAAI,QAAA,EAAC;oBAE7B;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAY,CAAC,eACbjB,OAAA;sBAAOS,SAAS,EAAC,YAAY;sBAAAI,QAAA,EAAC;oBAE9B;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAO,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACL,CAAC,EACLiC,OAAO,gBACNlD,OAAA,CAACX,KAAK;oBAACkB,EAAE,EAAC,MAAM;oBAACC,IAAI;oBAAAK,QAAA,EAAC;kBAEtB;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC,gBAERjB,OAAA,CAACX,KAAK;oBAACkB,EAAE,EAAC,OAAO;oBAAC4G,IAAI,EAAC,WAAW;oBAAC3G,IAAI;oBAAAK,QAAA,GACpCiC,KAAK,CAACe,MAAM,EAAC,SAChB;kBAAA;oBAAA/C,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CACR;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACE,CAAC,EAEL+B,OAAO,gBACNhD,OAAA;kBAAKS,SAAS,EAAC,kBAAkB;kBAAAI,QAAA,gBAC/Bb,OAAA,CAACV,OAAO;oBAAC8H,SAAS,EAAC,QAAQ;oBAACC,IAAI,EAAC,IAAI;oBAAC5G,SAAS,EAAC;kBAAM;oBAAAK,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE,CAAC,eACzDjB,OAAA;oBAAMS,SAAS,EAAC,YAAY;oBAAAI,QAAA,EAAC;kBAAa;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC9C,CAAC,GACJ6B,KAAK,CAACe,MAAM,KAAK,CAAC,gBACpB7D,OAAA;kBAAGS,SAAS,EAAC,iBAAiB;kBAAAI,QAAA,GAAC,uCACQ,EAAC,GAAG,eACzCb,OAAA;oBAAAa,QAAA,EAAQ;kBAAY;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,8BAC/B;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC,gBAEJjB,OAAA,CAAAE,SAAA;kBAAAW,QAAA,gBACEb,OAAA,CAACmB,QAAQ;oBAACC,MAAM,EAAEyE,WAAY;oBAACxE,KAAK,EAAEyB,KAAK,CAACe;kBAAO;oBAAA/C,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE,CAAC,eAEtDjB,OAAA;oBAAAc,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eAENjB,OAAA;oBACES,SAAS,EAAC,0CAA0C;oBACpDC,KAAK,EAAE;sBAAE4G,MAAM,EAAE;oBAAE,CAAE;oBAAAzG,QAAA,gBAErBb,OAAA;sBAAKS,SAAS,EAAC,OAAO;sBAAAI,QAAA,gBACpBb,OAAA;wBACES,SAAS,EAAC,MAAM;wBAChBC,KAAK,EAAE;0BAAEqB,KAAK,EAAE,SAAS;0BAAEpB,UAAU,EAAE;wBAAI,CAAE;wBAAAE,QAAA,EAC9C;sBAED;wBAAAC,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAM,CAAC,eACPjB,OAAA;wBAAMS,SAAS,EAAC,YAAY;wBAAAI,QAAA,GACzBgE,SAAS,EAAC,aACb;sBAAA;wBAAA/D,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAM,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACJ,CAAC,eACNjB,OAAA;sBAAKS,SAAS,EAAC,OAAO;sBAAAI,QAAA,gBACpBb,OAAA;wBACES,SAAS,EAAC,MAAM;wBAChBC,KAAK,EAAE;0BAAEqB,KAAK,EAAE,SAAS;0BAAEpB,UAAU,EAAE;wBAAI,CAAE;wBAAAE,QAAA,EAC9C;sBAED;wBAAAC,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAM,CAAC,eACPjB,OAAA;wBAAMS,SAAS,EAAC,YAAY;wBAAAI,QAAA,GACzBiE,QAAQ,EAAC,aACZ;sBAAA;wBAAAhE,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAM,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACJ,CAAC,eACNjB,OAAA;sBAAKS,SAAS,EAAC,OAAO;sBAAAI,QAAA,gBACpBb,OAAA;wBACES,SAAS,EAAC,MAAM;wBAChBC,KAAK,EAAE;0BAAEqB,KAAK,EAAE,SAAS;0BAAEpB,UAAU,EAAE;wBAAI,CAAE;wBAAAE,QAAA,EAC9C;sBAED;wBAAAC,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAM,CAAC,eACPjB,OAAA;wBAAMS,SAAS,EAAC,YAAY;wBAAAI,QAAA,GACzBkE,QAAQ,EAAC,aACZ;sBAAA;wBAAAjE,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAM,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACJ,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACH,CAAC;gBAAA,eACN,CACH;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACQ;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACR;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACJ,CAAC,eAGNjB,OAAA,CAACb,GAAG;YAAC8H,EAAE,EAAE,CAAE;YAAApG,QAAA,eACTb,OAAA,CAACZ,IAAI;cACHqB,SAAS,EAAC,0BAA0B;cACpCC,KAAK,EAAE;gBAAE8F,YAAY,EAAE;cAAG,CAAE;cAAA3F,QAAA,eAE5Bb,OAAA,CAACZ,IAAI,CAACqH,IAAI;gBAAA5F,QAAA,gBACRb,OAAA;kBAAKS,SAAS,EAAC,wDAAwD;kBAAAI,QAAA,gBACrEb,OAAA;oBAAAa,QAAA,gBACEb,OAAA,CAACZ,IAAI,CAAC8H,KAAK;sBAACzG,SAAS,EAAC,MAAM;sBAAAI,QAAA,EAAC;oBAE7B;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAY,CAAC,eACbjB,OAAA;sBAAOS,SAAS,EAAC,YAAY;sBAAAI,QAAA,EAAC;oBAE9B;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAO,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACL,CAAC,eACNjB,OAAA,CAACT,cAAc;oBACbgI,SAAS,EAAC,MAAM;oBAChBC,OAAO,eACLxH,OAAA,CAACR,OAAO;sBAAC8D,EAAE,EAAC,UAAU;sBAAAzC,QAAA,EAAC;oBAGvB;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAS,CACV;oBAAAJ,QAAA,eAEDb,OAAA;sBACES,SAAS,EAAC,+BAA+B;sBACzCC,KAAK,EAAE;wBAAE+G,MAAM,EAAE;sBAAO,CAAE;sBAAA5G,QAAA,EAC3B;oBAED;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACO,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACd,CAAC,EAEL+B,OAAO,gBACNhD,OAAA;kBAAKS,SAAS,EAAC,kBAAkB;kBAAAI,QAAA,gBAC/Bb,OAAA,CAACV,OAAO;oBAAC8H,SAAS,EAAC,QAAQ;oBAACC,IAAI,EAAC,IAAI;oBAAC5G,SAAS,EAAC;kBAAM;oBAAAK,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE,CAAC,eACzDjB,OAAA;oBAAMS,SAAS,EAAC,YAAY;oBAAAI,QAAA,EAAC;kBAAa;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC9C,CAAC,GACJ6E,OAAO,CAACjC,MAAM,KAAK,CAAC,gBACtB7D,OAAA;kBAAGS,SAAS,EAAC,iBAAiB;kBAAAI,QAAA,EAAC;gBAG/B;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC,gBAEJjB,OAAA;kBAAKS,SAAS,EAAC,MAAM;kBAAAI,QAAA,eAEnBb,OAAA,CAACL,gBAAgB;oBACf+H,IAAI,EAAE5B,OAAO,CAACtD,GAAG,CAAEmF,CAAC,KAAM;sBACxB,GAAGA,CAAC;sBACJtD,mBAAmB,EAAE,CACnBC,MAAM,CAACqD,CAAC,CAACtD,mBAAmB,IAAI,CAAC,CAAC,GAAG,GAAG,EACxCuD,OAAO,CAAC,CAAC,CAAC;sBACZrD,mBAAmB,EAAED,MAAM,CACzBqD,CAAC,CAACpD,mBAAmB,IAAI,CAC3B,CAAC,CAACqD,OAAO,CAAC,CAAC;oBACb,CAAC,CAAC;kBAAE;oBAAA9G,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACL;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACC,CACN,eAGDjB,OAAA;kBAAKS,SAAS,EAAC,uBAAuB;kBAAAI,QAAA,gBACpCb,OAAA;oBAAMS,SAAS,EAAC,MAAM;oBAAAI,QAAA,gBACpBb,OAAA,CAACmC,SAAS;sBAACC,IAAI,EAAC;oBAAM;sBAAAtB,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE,CAAC,yBAC3B;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,eACPjB,OAAA;oBAAMS,SAAS,EAAC,MAAM;oBAAAI,QAAA,gBACpBb,OAAA,CAACmC,SAAS;sBAACC,IAAI,EAAC;oBAAQ;sBAAAtB,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE,CAAC,oBAC7B;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,eACPjB,OAAA;oBAAAa,QAAA,gBACEb,OAAA,CAACmC,SAAS;sBAACC,IAAI,EAAC;oBAAK;sBAAAtB,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE,CAAC,6BAC1B;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACJ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACG;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACR;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACJ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACG;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACT,CAAC;EAAA,eACN,CAAC;AAEP;AAAC0B,EAAA,CAjZuBD,SAAS;AAAAmF,GAAA,GAATnF,SAAS;AAAA,IAAAxB,EAAA,EAAAgB,GAAA,EAAAO,GAAA,EAAAoF,GAAA;AAAAC,YAAA,CAAA5G,EAAA;AAAA4G,YAAA,CAAA5F,GAAA;AAAA4F,YAAA,CAAArF,GAAA;AAAAqF,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}