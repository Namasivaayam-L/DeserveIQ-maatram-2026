{"ast":null,"code":"var _jsxFileName = \"D:\\\\newDownload\\\\DeserveIQ\\\\frontend\\\\src\\\\pages\\\\Students.jsx\",\n  _s = $RefreshSig$();\n// src/pages/Students.jsx\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport TopNav from \"../components/TopNav\";\nimport { Container, Card, Table, Row, Col, Form, Badge, InputGroup, Button, Modal } from \"react-bootstrap\";\nimport { getStudents, deleteStudent } from \"../services/api\";\nimport { useNavigate } from \"react-router-dom\";\n\n// -----------------------------------------------------------------------------\n// SMALL DISPLAY COMPONENTS\n// -----------------------------------------------------------------------------\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SummaryPill = ({\n  label,\n  value,\n  variant\n}) => /*#__PURE__*/_jsxDEV(Badge, {\n  bg: variant,\n  pill: true,\n  className: \"me-2 mb-2\",\n  style: {\n    fontSize: \"0.70rem\",\n    fontWeight: 600\n  },\n  children: [label, \": \", value]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 24,\n  columnNumber: 3\n}, this);\n_c = SummaryPill;\nconst RiskTierBadge = ({\n  tier\n}) => {\n  const t = (tier || \"\").toString().toUpperCase();\n  if (!t) return /*#__PURE__*/_jsxDEV(\"span\", {\n    className: \"text-muted small\",\n    children: \"\\u2014\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 18\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Badge, {\n    bg: t === \"HIGH\" ? \"danger\" : t === \"MEDIUM\" ? \"warning\" : t === \"LOW\" ? \"success\" : \"secondary\",\n    pill: true,\n    className: \"small\",\n    style: {\n      fontSize: \"0.70rem\",\n      minWidth: 55,\n      textAlign: \"center\"\n    },\n    children: t\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n};\n_c2 = RiskTierBadge;\nconst headerBackground = \"linear-gradient(135deg, rgba(248,250,252,1) 0%, rgba(239,246,255,1) 35%, rgba(221,239,253,1) 100%)\";\nconst pageBackground = \"linear-gradient(180deg, #eff6ff 0%, #ffffff 40%, #f9fafb 100%)\";\n\n// -----------------------------------------------------------------------------\n// EXPLANATION PARSER\n// -----------------------------------------------------------------------------\n\nconst parseExplanation = raw => {\n  if (!raw) return null;\n  try {\n    return JSON.parse(raw);\n  } catch {\n    return {\n      raw\n    };\n  }\n};\n\n// -----------------------------------------------------------------------------\n// MAIN COMPONENT\n// -----------------------------------------------------------------------------\n\nexport default function Students() {\n  _s();\n  const [list, setList] = useState([]);\n  const [search, setSearch] = useState(\"\");\n  const [schoolFilter, setSchoolFilter] = useState(\"ALL\");\n  const [riskFilter, setRiskFilter] = useState(\"ALL\");\n  const [sortKey, setSortKey] = useState(\"name\");\n  const [sortDir, setSortDir] = useState(\"asc\");\n  const [deletingId, setDeletingId] = useState(null);\n  const [showExplain, setShowExplain] = useState(false);\n  const [explainStudent, setExplainStudent] = useState(null);\n  const [explainParsed, setExplainParsed] = useState(null);\n  const nav = useNavigate();\n  useEffect(() => {\n    getStudents().then(d => setList(Array.isArray(d) ? d : [])).catch(() => setList([]));\n  }, []);\n\n  // ---------------------------------------------------------------------------\n  // SUMMARY COUNTERS\n  // ---------------------------------------------------------------------------\n\n  const summary = useMemo(() => {\n    return {\n      govt: list.filter(s => String(s.private_or_govt_school || \"\").toLowerCase().includes(\"govt\")).length,\n      private: list.filter(s => String(s.private_or_govt_school || \"\").toLowerCase().includes(\"private\")).length,\n      scholarship: list.filter(s => String(s.any_scholarship || \"\").toLowerCase() === \"yes\").length,\n      highAttendance: list.filter(s => {\n        var _s$attendance_rate;\n        return Number((_s$attendance_rate = s.attendance_rate) !== null && _s$attendance_rate !== void 0 ? _s$attendance_rate : 0) >= 80;\n      }).length,\n      highRisk: list.filter(s => {\n        var _s$risk_tier;\n        return String(((_s$risk_tier = s.risk_tier) !== null && _s$risk_tier !== void 0 ? _s$risk_tier : s.riskTier) || \"\").toUpperCase() === \"HIGH\";\n      }).length,\n      mediumRisk: list.filter(s => {\n        var _s$risk_tier2;\n        return String(((_s$risk_tier2 = s.risk_tier) !== null && _s$risk_tier2 !== void 0 ? _s$risk_tier2 : s.riskTier) || \"\").toUpperCase() === \"MEDIUM\";\n      }).length,\n      lowRisk: list.filter(s => {\n        var _s$risk_tier3;\n        return String(((_s$risk_tier3 = s.risk_tier) !== null && _s$risk_tier3 !== void 0 ? _s$risk_tier3 : s.riskTier) || \"\").toUpperCase() === \"LOW\";\n      }).length\n    };\n  }, [list]);\n\n  // ---------------------------------------------------------------------------\n  // FILTER + SORT\n  // ---------------------------------------------------------------------------\n\n  const filtered = useMemo(() => {\n    let rows = [...list];\n    const q = search.trim().toLowerCase();\n    if (q) {\n      rows = rows.filter(s => {\n        const fields = [s.name, s.district, s.preferred_course, s.preferred_location, s.attitude, s.risk_tier, s.riskTier].map(v => String(v || \"\").toLowerCase()).join(\" \");\n        return fields.includes(q);\n      });\n    }\n    if (schoolFilter !== \"ALL\") {\n      rows = rows.filter(s => String(s.private_or_govt_school || \"\").toLowerCase().includes(schoolFilter.toLowerCase()));\n    }\n    if (riskFilter !== \"ALL\") {\n      rows = rows.filter(s => {\n        var _s$risk_tier4;\n        return String(((_s$risk_tier4 = s.risk_tier) !== null && _s$risk_tier4 !== void 0 ? _s$risk_tier4 : s.riskTier) || \"\").toUpperCase() === riskFilter.toUpperCase();\n      });\n    }\n    const getVal = s => {\n      var _s$cutoff, _s$family_income, _s$academic_score, _s$motivational_score, _s$attendance_rate2, _ref, _ref2, _ref3, _s$dropout_probabilit, _ref4, _ref5, _ref6, _s$deservingness_scor;\n      switch (sortKey) {\n        case \"district\":\n          return String(s.district || \"\").toLowerCase();\n        case \"cutoff\":\n          return Number((_s$cutoff = s.cutoff) !== null && _s$cutoff !== void 0 ? _s$cutoff : 0);\n        case \"income\":\n          return Number((_s$family_income = s.family_income) !== null && _s$family_income !== void 0 ? _s$family_income : 0);\n        case \"academic\":\n          return Number((_s$academic_score = s.academic_score) !== null && _s$academic_score !== void 0 ? _s$academic_score : 0);\n        case \"motivation\":\n          return Number((_s$motivational_score = s.motivational_score) !== null && _s$motivational_score !== void 0 ? _s$motivational_score : 0);\n        case \"attendance\":\n          return Number((_s$attendance_rate2 = s.attendance_rate) !== null && _s$attendance_rate2 !== void 0 ? _s$attendance_rate2 : 0);\n        case \"dropout\":\n          return Number((_ref = (_ref2 = (_ref3 = (_s$dropout_probabilit = s.dropout_probability) !== null && _s$dropout_probabilit !== void 0 ? _s$dropout_probabilit : s.dropoutProb) !== null && _ref3 !== void 0 ? _ref3 : s.dropOutProbability) !== null && _ref2 !== void 0 ? _ref2 : s.probability) !== null && _ref !== void 0 ? _ref : 0);\n        case \"deservingness\":\n          return Number((_ref4 = (_ref5 = (_ref6 = (_s$deservingness_scor = s.deservingness_score) !== null && _s$deservingness_scor !== void 0 ? _s$deservingness_scor : s.deservingnessScore) !== null && _ref6 !== void 0 ? _ref6 : s.deserving_score) !== null && _ref5 !== void 0 ? _ref5 : s.deserving) !== null && _ref4 !== void 0 ? _ref4 : 0);\n        default:\n          return String(s.name || \"\").toLowerCase();\n      }\n    };\n    rows.sort((a, b) => {\n      const va = getVal(a);\n      const vb = getVal(b);\n      return sortDir === \"asc\" ? va > vb ? 1 : -1 : va < vb ? 1 : -1;\n    });\n    return rows;\n  }, [list, search, schoolFilter, riskFilter, sortKey, sortDir]);\n  const toggleSort = key => {\n    setSortKey(key);\n    setSortDir(sortDir === \"asc\" ? \"desc\" : \"asc\");\n  };\n  const sortIcon = key => {\n    return sortKey === key ? sortDir === \"asc\" ? \"↑\" : \"↓\" : \"↕\";\n  };\n\n  // ---------------------------------------------------------------------------\n  // DELETE\n  // ---------------------------------------------------------------------------\n\n  const handleDelete = async id => {\n    if (!id) return;\n    if (!window.confirm(\"Delete this student permanently?\")) return;\n    try {\n      setDeletingId(id);\n      await deleteStudent(id);\n      setList(prev => prev.filter(s => s.id !== id));\n    } catch {\n      alert(\"Failed to delete.\");\n    } finally {\n      setDeletingId(null);\n    }\n  };\n\n  // ---------------------------------------------------------------------------\n  // EXPLANATION MODAL\n  // ---------------------------------------------------------------------------\n\n  const openExplanation = s => {\n    setExplainStudent(s);\n    setExplainParsed(parseExplanation(s.explanation));\n    setShowExplain(true);\n  };\n  const closeExplanation = () => {\n    setShowExplain(false);\n    setExplainStudent(null);\n    setExplainParsed(null);\n  };\n\n  // ---------------------------------------------------------------------------\n  // RENDER UI\n  // ---------------------------------------------------------------------------\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(TopNav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        minHeight: \"100vh\",\n        background: pageBackground,\n        fontFamily: '\"Inter\", system-ui, -apple-system, BlinkMacSystemFont'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Container, {\n        className: \"py-4\",\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          className: \"mb-3\",\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              className: \"border-0 shadow-sm\",\n              style: {\n                borderRadius: 18,\n                background: headerBackground\n              },\n              children: /*#__PURE__*/_jsxDEV(Card.Body, {\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  className: \"align-items-center g-3\",\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    md: 7,\n                    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                      className: \"mb-1\",\n                      style: {\n                        fontWeight: 700\n                      },\n                      children: \"Students Registry\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 285,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                      className: \"text-muted\",\n                      children: [list.length, \" student record(s) imported from batch CSV.\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 288,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mt-3 d-flex flex-wrap\",\n                      children: [/*#__PURE__*/_jsxDEV(SummaryPill, {\n                        label: \"Govt\",\n                        value: summary.govt,\n                        variant: \"primary\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 293,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(SummaryPill, {\n                        label: \"Private\",\n                        value: summary.private,\n                        variant: \"info\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 294,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(SummaryPill, {\n                        label: \"Scholarship\",\n                        value: summary.scholarship,\n                        variant: \"success\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 295,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(SummaryPill, {\n                        label: \"\\u226580% Attendance\",\n                        value: summary.highAttendance,\n                        variant: \"warning\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 296,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(SummaryPill, {\n                        label: \"High Risk\",\n                        value: summary.highRisk,\n                        variant: \"danger\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 297,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(SummaryPill, {\n                        label: \"Medium Risk\",\n                        value: summary.mediumRisk,\n                        variant: \"warning\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 298,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(SummaryPill, {\n                        label: \"Low Risk\",\n                        value: summary.lowRisk,\n                        variant: \"success\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 299,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 292,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 284,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    md: 5,\n                    children: /*#__PURE__*/_jsxDEV(Row, {\n                      className: \"g-2\",\n                      children: [/*#__PURE__*/_jsxDEV(Col, {\n                        xs: 12,\n                        md: 7,\n                        children: /*#__PURE__*/_jsxDEV(InputGroup, {\n                          children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                            placeholder: \"Search name, district, course\\u2026\",\n                            value: search,\n                            onChange: e => setSearch(e.target.value)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 307,\n                            columnNumber: 29\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 306,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 305,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(Col, {\n                        xs: 6,\n                        md: 5,\n                        children: /*#__PURE__*/_jsxDEV(Form.Select, {\n                          value: schoolFilter,\n                          onChange: e => setSchoolFilter(e.target.value),\n                          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"ALL\",\n                            children: \"All school types\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 319,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"govt\",\n                            children: \"Govt only\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 320,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"private\",\n                            children: \"Private only\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 321,\n                            columnNumber: 29\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 315,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 314,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(Col, {\n                        xs: 6,\n                        children: /*#__PURE__*/_jsxDEV(Form.Select, {\n                          value: riskFilter,\n                          onChange: e => setRiskFilter(e.target.value),\n                          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"ALL\",\n                            children: \"All risk tiers\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 329,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"HIGH\",\n                            children: \"High only\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 330,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"MEDIUM\",\n                            children: \"Medium only\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 331,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"LOW\",\n                            children: \"Low only\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 332,\n                            columnNumber: 29\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 325,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 324,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 304,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 303,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          className: \"shadow-sm border-0\",\n          style: {\n            borderRadius: 18\n          },\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"table-responsive\",\n              children: /*#__PURE__*/_jsxDEV(Table, {\n                hover: true,\n                className: \"align-middle mb-0\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"#\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 350,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      onClick: () => toggleSort(\"name\"),\n                      style: {\n                        cursor: \"pointer\"\n                      },\n                      children: [\"Name \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"small\",\n                        children: sortIcon(\"name\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 352,\n                        columnNumber: 30\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 351,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      onClick: () => toggleSort(\"district\"),\n                      style: {\n                        cursor: \"pointer\"\n                      },\n                      children: [\"District \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"small\",\n                        children: sortIcon(\"district\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 355,\n                        columnNumber: 34\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 354,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"School\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 357,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      onClick: () => toggleSort(\"cutoff\"),\n                      style: {\n                        cursor: \"pointer\"\n                      },\n                      children: [\"Cutoff \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"small\",\n                        children: sortIcon(\"cutoff\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 359,\n                        columnNumber: 32\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 358,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      onClick: () => toggleSort(\"income\"),\n                      style: {\n                        cursor: \"pointer\"\n                      },\n                      children: [\"Income \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"small\",\n                        children: sortIcon(\"income\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 362,\n                        columnNumber: 32\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 361,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      onClick: () => toggleSort(\"academic\"),\n                      style: {\n                        cursor: \"pointer\"\n                      },\n                      children: [\"Academic \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"small\",\n                        children: sortIcon(\"academic\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 365,\n                        columnNumber: 34\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 364,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      onClick: () => toggleSort(\"motivation\"),\n                      style: {\n                        cursor: \"pointer\"\n                      },\n                      children: [\"Motivation \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"small\",\n                        children: sortIcon(\"motivation\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 368,\n                        columnNumber: 36\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 367,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      onClick: () => toggleSort(\"attendance\"),\n                      style: {\n                        cursor: \"pointer\"\n                      },\n                      children: [\"Attendance \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"small\",\n                        children: sortIcon(\"attendance\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 371,\n                        columnNumber: 36\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 370,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      onClick: () => toggleSort(\"dropout\"),\n                      style: {\n                        cursor: \"pointer\"\n                      },\n                      children: [\"Dropout % \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"small\",\n                        children: sortIcon(\"dropout\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 374,\n                        columnNumber: 35\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 373,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      onClick: () => toggleSort(\"deservingness\"),\n                      style: {\n                        cursor: \"pointer\"\n                      },\n                      children: [\"Deserving \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"small\",\n                        children: sortIcon(\"deservingness\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 377,\n                        columnNumber: 35\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 376,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Risk\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 379,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      style: {\n                        width: 180\n                      },\n                      children: \"Action\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 380,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 349,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: filtered.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: /*#__PURE__*/_jsxDEV(\"td\", {\n                      colSpan: \"13\",\n                      className: \"text-center text-muted py-4\",\n                      children: \"No students found \\u2014 upload batch CSV first.\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 387,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 386,\n                    columnNumber: 23\n                  }, this) : filtered.map((s, i) => {\n                    var _ref7, _ref8, _ref9, _s$dropout_probabilit2, _ref0, _ref1, _ref10, _s$deservingness_scor2, _s$risk_tier5, _s$id, _s$cutoff2, _s$family_income2, _s$academic_score2, _s$motivational_score2, _s$attendance_rate3;\n                    const dropout = Number((_ref7 = (_ref8 = (_ref9 = (_s$dropout_probabilit2 = s.dropout_probability) !== null && _s$dropout_probabilit2 !== void 0 ? _s$dropout_probabilit2 : s.dropoutProb) !== null && _ref9 !== void 0 ? _ref9 : s.dropOutProbability) !== null && _ref8 !== void 0 ? _ref8 : s.probability) !== null && _ref7 !== void 0 ? _ref7 : null);\n                    const deserving = Number((_ref0 = (_ref1 = (_ref10 = (_s$deservingness_scor2 = s.deservingness_score) !== null && _s$deservingness_scor2 !== void 0 ? _s$deservingness_scor2 : s.deservingScore) !== null && _ref10 !== void 0 ? _ref10 : s.deserving_score) !== null && _ref1 !== void 0 ? _ref1 : s.deserving) !== null && _ref0 !== void 0 ? _ref0 : null);\n                    const risk = ((_s$risk_tier5 = s.risk_tier) !== null && _s$risk_tier5 !== void 0 ? _s$risk_tier5 : s.riskTier) || null;\n                    return /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: i + 1\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 411,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          fontWeight: 600\n                        },\n                        children: s.name || \"Unnamed\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 412,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: s.district || \"-\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 413,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: s.private_or_govt_school || \"Not specified\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 414,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: (_s$cutoff2 = s.cutoff) !== null && _s$cutoff2 !== void 0 ? _s$cutoff2 : \"-\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 415,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: (_s$family_income2 = s.family_income) !== null && _s$family_income2 !== void 0 ? _s$family_income2 : \"-\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 416,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: (_s$academic_score2 = s.academic_score) !== null && _s$academic_score2 !== void 0 ? _s$academic_score2 : \"-\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 417,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: (_s$motivational_score2 = s.motivational_score) !== null && _s$motivational_score2 !== void 0 ? _s$motivational_score2 : \"-\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 418,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: [(_s$attendance_rate3 = s.attendance_rate) !== null && _s$attendance_rate3 !== void 0 ? _s$attendance_rate3 : \"-\", \"%\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 419,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          color: \"#b91c1c\",\n                          fontWeight: 600\n                        },\n                        children: dropout || dropout === 0 ? (dropout * 100).toFixed(1) + \"%\" : \"—\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 420,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          color: \"#15803d\",\n                          fontWeight: 600\n                        },\n                        children: deserving || deserving === 0 ? Number(deserving).toFixed(2) : \"—\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 425,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(RiskTierBadge, {\n                          tier: risk\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 431,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 430,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"d-flex flex-wrap gap-1\",\n                          children: [/*#__PURE__*/_jsxDEV(Button, {\n                            size: \"sm\",\n                            variant: \"outline-primary\",\n                            onClick: () => nav(`/students/${s.id}`),\n                            children: \"View\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 435,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(Button, {\n                            size: \"sm\",\n                            variant: \"outline-info\",\n                            onClick: () => openExplanation(s),\n                            children: \"Reasons\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 442,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(Button, {\n                            size: \"sm\",\n                            variant: \"outline-danger\",\n                            disabled: deletingId === s.id,\n                            onClick: () => handleDelete(s.id),\n                            children: deletingId === s.id ? \"Deleting…\" : \"Delete\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 449,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 434,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 433,\n                        columnNumber: 29\n                      }, this)]\n                    }, (_s$id = s.id) !== null && _s$id !== void 0 ? _s$id : i, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 410,\n                      columnNumber: 27\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 384,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        show: showExplain,\n        onHide: closeExplanation,\n        size: \"lg\",\n        centered: true,\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          closeButton: true,\n          children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n            children: [\"Explanation \\u2014 \", (explainStudent === null || explainStudent === void 0 ? void 0 : explainStudent.name) || \"Student\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 473,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n          children: !explainParsed ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-muted small\",\n            children: \"No stored explanation.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 479,\n            columnNumber: 15\n          }, this) : explainParsed.raw ? /*#__PURE__*/_jsxDEV(\"pre\", {\n            style: {\n              background: \"#f3f4f6\",\n              padding: 12,\n              borderRadius: 8,\n              fontSize: \"0.75rem\"\n            },\n            children: explainParsed.raw\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: Object.entries(explainParsed).map(([k, v], i) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"small mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [k, \":\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 495,\n                columnNumber: 21\n              }, this), \" \", JSON.stringify(v)]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 19\n            }, this))\n          }, void 0, false)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 477,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            size: \"sm\",\n            variant: \"secondary\",\n            onClick: closeExplanation,\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 502,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 501,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 471,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(Students, \"fUE23RtjAIHxUdi65eTZRlOCYNA=\", false, function () {\n  return [useNavigate];\n});\n_c3 = Students;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"SummaryPill\");\n$RefreshReg$(_c2, \"RiskTierBadge\");\n$RefreshReg$(_c3, \"Students\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","TopNav","Container","Card","Table","Row","Col","Form","Badge","InputGroup","Button","Modal","getStudents","deleteStudent","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","SummaryPill","label","value","variant","bg","pill","className","style","fontSize","fontWeight","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","RiskTierBadge","tier","t","toString","toUpperCase","minWidth","textAlign","_c2","headerBackground","pageBackground","parseExplanation","raw","JSON","parse","Students","_s","list","setList","search","setSearch","schoolFilter","setSchoolFilter","riskFilter","setRiskFilter","sortKey","setSortKey","sortDir","setSortDir","deletingId","setDeletingId","showExplain","setShowExplain","explainStudent","setExplainStudent","explainParsed","setExplainParsed","nav","then","d","Array","isArray","catch","summary","govt","filter","s","String","private_or_govt_school","toLowerCase","includes","length","private","scholarship","any_scholarship","highAttendance","_s$attendance_rate","Number","attendance_rate","highRisk","_s$risk_tier","risk_tier","riskTier","mediumRisk","_s$risk_tier2","lowRisk","_s$risk_tier3","filtered","rows","q","trim","fields","name","district","preferred_course","preferred_location","attitude","map","v","join","_s$risk_tier4","getVal","_s$cutoff","_s$family_income","_s$academic_score","_s$motivational_score","_s$attendance_rate2","_ref","_ref2","_ref3","_s$dropout_probabilit","_ref4","_ref5","_ref6","_s$deservingness_scor","cutoff","family_income","academic_score","motivational_score","dropout_probability","dropoutProb","dropOutProbability","probability","deservingness_score","deservingnessScore","deserving_score","deserving","sort","a","b","va","vb","toggleSort","key","sortIcon","handleDelete","id","window","confirm","prev","alert","openExplanation","explanation","closeExplanation","minHeight","background","fontFamily","borderRadius","Body","md","xs","Control","placeholder","onChange","e","target","Select","hover","onClick","cursor","width","colSpan","i","_ref7","_ref8","_ref9","_s$dropout_probabilit2","_ref0","_ref1","_ref10","_s$deservingness_scor2","_s$risk_tier5","_s$id","_s$cutoff2","_s$family_income2","_s$academic_score2","_s$motivational_score2","_s$attendance_rate3","dropout","deservingScore","risk","color","toFixed","size","disabled","show","onHide","centered","Header","closeButton","Title","padding","Object","entries","k","stringify","Footer","_c3","$RefreshReg$"],"sources":["D:/newDownload/DeserveIQ/frontend/src/pages/Students.jsx"],"sourcesContent":["// src/pages/Students.jsx\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport TopNav from \"../components/TopNav\";\nimport {\n  Container,\n  Card,\n  Table,\n  Row,\n  Col,\n  Form,\n  Badge,\n  InputGroup,\n  Button,\n  Modal,\n} from \"react-bootstrap\";\nimport { getStudents, deleteStudent } from \"../services/api\";\nimport { useNavigate } from \"react-router-dom\";\n\n// -----------------------------------------------------------------------------\n// SMALL DISPLAY COMPONENTS\n// -----------------------------------------------------------------------------\n\nconst SummaryPill = ({ label, value, variant }) => (\n  <Badge\n    bg={variant}\n    pill\n    className=\"me-2 mb-2\"\n    style={{ fontSize: \"0.70rem\", fontWeight: 600 }}\n  >\n    {label}: {value}\n  </Badge>\n);\n\nconst RiskTierBadge = ({ tier }) => {\n  const t = (tier || \"\").toString().toUpperCase();\n  if (!t) return <span className=\"text-muted small\">—</span>;\n  return (\n    <Badge\n      bg={\n        t === \"HIGH\"\n          ? \"danger\"\n          : t === \"MEDIUM\"\n          ? \"warning\"\n          : t === \"LOW\"\n          ? \"success\"\n          : \"secondary\"\n      }\n      pill\n      className=\"small\"\n      style={{ fontSize: \"0.70rem\", minWidth: 55, textAlign: \"center\" }}\n    >\n      {t}\n    </Badge>\n  );\n};\n\nconst headerBackground =\n  \"linear-gradient(135deg, rgba(248,250,252,1) 0%, rgba(239,246,255,1) 35%, rgba(221,239,253,1) 100%)\";\n\nconst pageBackground =\n  \"linear-gradient(180deg, #eff6ff 0%, #ffffff 40%, #f9fafb 100%)\";\n\n// -----------------------------------------------------------------------------\n// EXPLANATION PARSER\n// -----------------------------------------------------------------------------\n\nconst parseExplanation = (raw) => {\n  if (!raw) return null;\n  try {\n    return JSON.parse(raw);\n  } catch {\n    return { raw };\n  }\n};\n\n// -----------------------------------------------------------------------------\n// MAIN COMPONENT\n// -----------------------------------------------------------------------------\n\nexport default function Students() {\n  const [list, setList] = useState([]);\n  const [search, setSearch] = useState(\"\");\n  const [schoolFilter, setSchoolFilter] = useState(\"ALL\");\n  const [riskFilter, setRiskFilter] = useState(\"ALL\");\n  const [sortKey, setSortKey] = useState(\"name\");\n  const [sortDir, setSortDir] = useState(\"asc\");\n  const [deletingId, setDeletingId] = useState(null);\n\n  const [showExplain, setShowExplain] = useState(false);\n  const [explainStudent, setExplainStudent] = useState(null);\n  const [explainParsed, setExplainParsed] = useState(null);\n\n  const nav = useNavigate();\n\n  useEffect(() => {\n    getStudents()\n      .then((d) => setList(Array.isArray(d) ? d : []))\n      .catch(() => setList([]));\n  }, []);\n\n  // ---------------------------------------------------------------------------\n  // SUMMARY COUNTERS\n  // ---------------------------------------------------------------------------\n\n  const summary = useMemo(() => {\n    return {\n      govt: list.filter(\n        (s) => String(s.private_or_govt_school || \"\").toLowerCase().includes(\"govt\")\n      ).length,\n      private: list.filter(\n        (s) => String(s.private_or_govt_school || \"\").toLowerCase().includes(\"private\")\n      ).length,\n      scholarship: list.filter(\n        (s) => String(s.any_scholarship || \"\").toLowerCase() === \"yes\"\n      ).length,\n      highAttendance: list.filter(\n        (s) => Number(s.attendance_rate ?? 0) >= 80\n      ).length,\n      highRisk: list.filter(\n        (s) =>\n          String(((s.risk_tier ?? s.riskTier) || \"\")).toUpperCase() === \"HIGH\"\n      ).length,\n      mediumRisk: list.filter(\n        (s) =>\n          String(((s.risk_tier ?? s.riskTier) || \"\")).toUpperCase() === \"MEDIUM\"\n      ).length,\n      lowRisk: list.filter(\n        (s) =>\n          String(((s.risk_tier ?? s.riskTier) || \"\")).toUpperCase() === \"LOW\"\n      ).length,\n    };\n  }, [list]);\n\n  // ---------------------------------------------------------------------------\n  // FILTER + SORT\n  // ---------------------------------------------------------------------------\n\n  const filtered = useMemo(() => {\n    let rows = [...list];\n    const q = search.trim().toLowerCase();\n\n    if (q) {\n      rows = rows.filter((s) => {\n        const fields = [\n          s.name,\n          s.district,\n          s.preferred_course,\n          s.preferred_location,\n          s.attitude,\n          s.risk_tier,\n          s.riskTier,\n        ]\n          .map((v) => String(v || \"\").toLowerCase())\n          .join(\" \");\n        return fields.includes(q);\n      });\n    }\n\n    if (schoolFilter !== \"ALL\") {\n      rows = rows.filter((s) =>\n        String(s.private_or_govt_school || \"\")\n          .toLowerCase()\n          .includes(schoolFilter.toLowerCase())\n      );\n    }\n\n    if (riskFilter !== \"ALL\") {\n      rows = rows.filter(\n        (s) =>\n          String(((s.risk_tier ?? s.riskTier) || \"\")).toUpperCase() ===\n          riskFilter.toUpperCase()\n      );\n    }\n\n    const getVal = (s) => {\n      switch (sortKey) {\n        case \"district\":\n          return String(s.district || \"\").toLowerCase();\n        case \"cutoff\":\n          return Number(s.cutoff ?? 0);\n        case \"income\":\n          return Number(s.family_income ?? 0);\n        case \"academic\":\n          return Number(s.academic_score ?? 0);\n        case \"motivation\":\n          return Number(s.motivational_score ?? 0);\n        case \"attendance\":\n          return Number(s.attendance_rate ?? 0);\n        case \"dropout\":\n          return Number(\n            (s.dropout_probability ??\n              s.dropoutProb ??\n              s.dropOutProbability ??\n              s.probability) ?? 0\n          );\n        case \"deservingness\":\n          return Number(\n            (s.deservingness_score ??\n              s.deservingnessScore ??\n              s.deserving_score ??\n              s.deserving) ?? 0\n          );\n        default:\n          return String(s.name || \"\").toLowerCase();\n      }\n    };\n\n    rows.sort((a, b) => {\n      const va = getVal(a);\n      const vb = getVal(b);\n      return sortDir === \"asc\" ? (va > vb ? 1 : -1) : va < vb ? 1 : -1;\n    });\n\n    return rows;\n  }, [list, search, schoolFilter, riskFilter, sortKey, sortDir]);\n\n  const toggleSort = (key) => {\n    setSortKey(key);\n    setSortDir(sortDir === \"asc\" ? \"desc\" : \"asc\");\n  };\n\n  const sortIcon = (key) => {\n    return sortKey === key ? (sortDir === \"asc\" ? \"↑\" : \"↓\") : \"↕\";\n  };\n\n  // ---------------------------------------------------------------------------\n  // DELETE\n  // ---------------------------------------------------------------------------\n\n  const handleDelete = async (id) => {\n    if (!id) return;\n    if (!window.confirm(\"Delete this student permanently?\")) return;\n    try {\n      setDeletingId(id);\n      await deleteStudent(id);\n      setList((prev) => prev.filter((s) => s.id !== id));\n    } catch {\n      alert(\"Failed to delete.\");\n    } finally {\n      setDeletingId(null);\n    }\n  };\n\n  // ---------------------------------------------------------------------------\n  // EXPLANATION MODAL\n  // ---------------------------------------------------------------------------\n\n  const openExplanation = (s) => {\n    setExplainStudent(s);\n    setExplainParsed(parseExplanation(s.explanation));\n    setShowExplain(true);\n  };\n\n  const closeExplanation = () => {\n    setShowExplain(false);\n    setExplainStudent(null);\n    setExplainParsed(null);\n  };\n\n  // ---------------------------------------------------------------------------\n  // RENDER UI\n  // ---------------------------------------------------------------------------\n\n  return (\n    <>\n      <TopNav />\n      <div\n        style={{\n          minHeight: \"100vh\",\n          background: pageBackground,\n          fontFamily: '\"Inter\", system-ui, -apple-system, BlinkMacSystemFont',\n        }}\n      >\n        <Container className=\"py-4\">\n          {/* HEADER */}\n          <Row className=\"mb-3\">\n            <Col>\n              <Card\n                className=\"border-0 shadow-sm\"\n                style={{ borderRadius: 18, background: headerBackground }}\n              >\n                <Card.Body>\n                  <Row className=\"align-items-center g-3\">\n                    <Col md={7}>\n                      <h3 className=\"mb-1\" style={{ fontWeight: 700 }}>\n                        Students Registry\n                      </h3>\n                      <small className=\"text-muted\">\n                        {list.length} student record(s) imported from batch CSV.\n                      </small>\n\n                      <div className=\"mt-3 d-flex flex-wrap\">\n                        <SummaryPill label=\"Govt\" value={summary.govt} variant=\"primary\" />\n                        <SummaryPill label=\"Private\" value={summary.private} variant=\"info\" />\n                        <SummaryPill label=\"Scholarship\" value={summary.scholarship} variant=\"success\" />\n                        <SummaryPill label=\"≥80% Attendance\" value={summary.highAttendance} variant=\"warning\" />\n                        <SummaryPill label=\"High Risk\" value={summary.highRisk} variant=\"danger\" />\n                        <SummaryPill label=\"Medium Risk\" value={summary.mediumRisk} variant=\"warning\" />\n                        <SummaryPill label=\"Low Risk\" value={summary.lowRisk} variant=\"success\" />\n                      </div>\n                    </Col>\n\n                    <Col md={5}>\n                      <Row className=\"g-2\">\n                        <Col xs={12} md={7}>\n                          <InputGroup>\n                            <Form.Control\n                              placeholder=\"Search name, district, course…\"\n                              value={search}\n                              onChange={(e) => setSearch(e.target.value)}\n                            />\n                          </InputGroup>\n                        </Col>\n                        <Col xs={6} md={5}>\n                          <Form.Select\n                            value={schoolFilter}\n                            onChange={(e) => setSchoolFilter(e.target.value)}\n                          >\n                            <option value=\"ALL\">All school types</option>\n                            <option value=\"govt\">Govt only</option>\n                            <option value=\"private\">Private only</option>\n                          </Form.Select>\n                        </Col>\n                        <Col xs={6}>\n                          <Form.Select\n                            value={riskFilter}\n                            onChange={(e) => setRiskFilter(e.target.value)}\n                          >\n                            <option value=\"ALL\">All risk tiers</option>\n                            <option value=\"HIGH\">High only</option>\n                            <option value=\"MEDIUM\">Medium only</option>\n                            <option value=\"LOW\">Low only</option>\n                          </Form.Select>\n                        </Col>\n                      </Row>\n                    </Col>\n                  </Row>\n                </Card.Body>\n              </Card>\n            </Col>\n          </Row>\n\n          {/* TABLE */}\n          <Card className=\"shadow-sm border-0\" style={{ borderRadius: 18 }}>\n            <Card.Body>\n              <div className=\"table-responsive\">\n                <Table hover className=\"align-middle mb-0\">\n                  <thead>\n                    <tr>\n                      <th>#</th>\n                      <th onClick={() => toggleSort(\"name\")} style={{ cursor: \"pointer\" }}>\n                        Name <span className=\"small\">{sortIcon(\"name\")}</span>\n                      </th>\n                      <th onClick={() => toggleSort(\"district\")} style={{ cursor: \"pointer\" }}>\n                        District <span className=\"small\">{sortIcon(\"district\")}</span>\n                      </th>\n                      <th>School</th>\n                      <th onClick={() => toggleSort(\"cutoff\")} style={{ cursor: \"pointer\" }}>\n                        Cutoff <span className=\"small\">{sortIcon(\"cutoff\")}</span>\n                      </th>\n                      <th onClick={() => toggleSort(\"income\")} style={{ cursor: \"pointer\" }}>\n                        Income <span className=\"small\">{sortIcon(\"income\")}</span>\n                      </th>\n                      <th onClick={() => toggleSort(\"academic\")} style={{ cursor: \"pointer\" }}>\n                        Academic <span className=\"small\">{sortIcon(\"academic\")}</span>\n                      </th>\n                      <th onClick={() => toggleSort(\"motivation\")} style={{ cursor: \"pointer\" }}>\n                        Motivation <span className=\"small\">{sortIcon(\"motivation\")}</span>\n                      </th>\n                      <th onClick={() => toggleSort(\"attendance\")} style={{ cursor: \"pointer\" }}>\n                        Attendance <span className=\"small\">{sortIcon(\"attendance\")}</span>\n                      </th>\n                      <th onClick={() => toggleSort(\"dropout\")} style={{ cursor: \"pointer\" }}>\n                        Dropout % <span className=\"small\">{sortIcon(\"dropout\")}</span>\n                      </th>\n                      <th onClick={() => toggleSort(\"deservingness\")} style={{ cursor: \"pointer\" }}>\n                        Deserving <span className=\"small\">{sortIcon(\"deservingness\")}</span>\n                      </th>\n                      <th>Risk</th>\n                      <th style={{ width: 180 }}>Action</th>\n                    </tr>\n                  </thead>\n\n                  <tbody>\n                    {filtered.length === 0 ? (\n                      <tr>\n                        <td colSpan=\"13\" className=\"text-center text-muted py-4\">\n                          No students found — upload batch CSV first.\n                        </td>\n                      </tr>\n                    ) : (\n                      filtered.map((s, i) => {\n                        const dropout = Number(\n                          (s.dropout_probability ??\n                            s.dropoutProb ??\n                            s.dropOutProbability ??\n                            s.probability) ?? null\n                        );\n\n                        const deserving = Number(\n                          (s.deservingness_score ??\n                            s.deservingScore ??\n                            s.deserving_score ??\n                            s.deserving) ?? null\n                        );\n\n                        const risk = (s.risk_tier ?? s.riskTier) || null;\n\n                        return (\n                          <tr key={s.id ?? i}>\n                            <td>{i + 1}</td>\n                            <td style={{ fontWeight: 600 }}>{s.name || \"Unnamed\"}</td>\n                            <td>{s.district || \"-\"}</td>\n                            <td>{s.private_or_govt_school || \"Not specified\"}</td>\n                            <td>{s.cutoff ?? \"-\"}</td>\n                            <td>{s.family_income ?? \"-\"}</td>\n                            <td>{s.academic_score ?? \"-\"}</td>\n                            <td>{s.motivational_score ?? \"-\"}</td>\n                            <td>{s.attendance_rate ?? \"-\"}%</td>\n                            <td style={{ color: \"#b91c1c\", fontWeight: 600 }}>\n                              {dropout || dropout === 0\n                                ? (dropout * 100).toFixed(1) + \"%\"\n                                : \"—\"}\n                            </td>\n                            <td style={{ color: \"#15803d\", fontWeight: 600 }}>\n                              {deserving || deserving === 0\n                                ? Number(deserving).toFixed(2)\n                                : \"—\"}\n                            </td>\n                            <td>\n                              <RiskTierBadge tier={risk} />\n                            </td>\n                            <td>\n                              <div className=\"d-flex flex-wrap gap-1\">\n                                <Button\n                                  size=\"sm\"\n                                  variant=\"outline-primary\"\n                                  onClick={() => nav(`/students/${s.id}`)}\n                                >\n                                  View\n                                </Button>\n                                <Button\n                                  size=\"sm\"\n                                  variant=\"outline-info\"\n                                  onClick={() => openExplanation(s)}\n                                >\n                                  Reasons\n                                </Button>\n                                <Button\n                                  size=\"sm\"\n                                  variant=\"outline-danger\"\n                                  disabled={deletingId === s.id}\n                                  onClick={() => handleDelete(s.id)}\n                                >\n                                  {deletingId === s.id ? \"Deleting…\" : \"Delete\"}\n                                </Button>\n                              </div>\n                            </td>\n                          </tr>\n                        );\n                      })\n                    )}\n                  </tbody>\n                </Table>\n              </div>\n            </Card.Body>\n          </Card>\n        </Container>\n\n        {/* EXPLANATION MODAL */}\n        <Modal show={showExplain} onHide={closeExplanation} size=\"lg\" centered>\n          <Modal.Header closeButton>\n            <Modal.Title>\n              Explanation — {explainStudent?.name || \"Student\"}\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            {!explainParsed ? (\n              <p className=\"text-muted small\">No stored explanation.</p>\n            ) : explainParsed.raw ? (\n              <pre\n                style={{\n                  background: \"#f3f4f6\",\n                  padding: 12,\n                  borderRadius: 8,\n                  fontSize: \"0.75rem\",\n                }}\n              >\n                {explainParsed.raw}\n              </pre>\n            ) : (\n              <>\n                {Object.entries(explainParsed).map(([k, v], i) => (\n                  <div key={i} className=\"small mb-2\">\n                    <strong>{k}:</strong> {JSON.stringify(v)}\n                  </div>\n                ))}\n              </>\n            )}\n          </Modal.Body>\n          <Modal.Footer>\n            <Button size=\"sm\" variant=\"secondary\" onClick={closeExplanation}>\n              Close\n            </Button>\n          </Modal.Footer>\n        </Modal>\n      </div>\n    </>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}